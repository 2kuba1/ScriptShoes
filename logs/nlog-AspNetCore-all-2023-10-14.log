2023-10-14 14:49:41.4134|0|DEBUG|Program|init main 
2023-10-14 14:49:42.0077|0|ERROR|Program|Stopped program because of exception Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Program.cs:line 44
2023-10-14 14:50:10.2362|0|DEBUG|Program|init main 
2023-10-14 14:50:10.3182|0|ERROR|Program|Stopped program because of exception Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Program.cs:line 44
2023-10-14 16:00:30.8899|0|DEBUG|Program|init main 
2023-10-14 16:00:32.2113|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 16:00:32.3198|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 16:00:32.3729|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 16:00:32.3780|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 16:00:32.3959|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 16:00:32.4093|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 16:00:32.4093|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:00:32.4093|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 16:00:32.4093|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:00:32.4093|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 16:00:32.4093|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 16:00:32.4093|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 16:00:32.4093|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 16:00:32.6960|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 16:00:32.6960|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 16:00:32.6960|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 16:00:32.6960|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 16:00:32.6960|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 16:00:32.6960|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 16:00:32.9172|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEU" accepted. 
2023-10-14 16:00:32.9172|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEU" started. 
2023-10-14 16:00:32.9560|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEV" accepted. 
2023-10-14 16:00:32.9560|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEV" started. 
2023-10-14 16:00:32.9560|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF0" accepted. 
2023-10-14 16:00:32.9560|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF0" started. 
2023-10-14 16:00:32.9726|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 16:00:32.9726|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 16:00:32.9726|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:00:32.9931|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 16:00:32.9931|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:00:33.1476|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEU" completed keep alive response. 
2023-10-14 16:00:33.1476|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 178.2785ms 
2023-10-14 16:00:33.4837|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 16:00:33.4837|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:00:33.4837|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 16:00:33.4837|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:00:33.5906|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEU" completed keep alive response. 
2023-10-14 16:00:33.5906|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 107.0692ms 
2023-10-14 16:01:40.5578|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNNNBLMF0" received FIN. 
2023-10-14 16:01:40.5578|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNNNBLMF0" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:01:40.5578|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF0" disconnecting. 
2023-10-14 16:01:40.5578|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNNNBLMEV" received FIN. 
2023-10-14 16:01:40.5848|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNNNBLMEV" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:01:40.5848|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEV" disconnecting. 
2023-10-14 16:01:40.5848|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF0" stopped. 
2023-10-14 16:01:40.5848|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEV" stopped. 
2023-10-14 16:01:56.5354|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF1" accepted. 
2023-10-14 16:01:56.5354|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF1" started. 
2023-10-14 16:01:56.5354|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF2" accepted. 
2023-10-14 16:01:56.5354|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNNNBLMF1" received FIN. 
2023-10-14 16:01:56.5354|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF2" started. 
2023-10-14 16:01:56.5354|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNNNBLMF1" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:01:56.5354|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF1" disconnecting. 
2023-10-14 16:01:56.5354|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF1" stopped. 
2023-10-14 16:01:56.5354|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/shoe/create application/json 194 
2023-10-14 16:01:56.5354|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:01:56.5354|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/shoe/create' 
2023-10-14 16:01:56.5354|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint '405 HTTP Method Not Supported' 
2023-10-14 16:01:56.5354|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:01:56.5354|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 16:01:57.0295|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:01:57.0335|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/shoe/create has been invoked 
2023-10-14 16:01:57.0335|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 16:01:57.0534|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint '405 HTTP Method Not Supported' 
2023-10-14 16:01:57.0534|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint '405 HTTP Method Not Supported' 
2023-10-14 16:01:57.0534|11|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|Response is not cacheable because it does not contain the 'public' cache directive. 
2023-10-14 16:01:57.0534|27|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The response could not be cached for this request. 
2023-10-14 16:01:57.0534|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF2" completed keep alive response. 
2023-10-14 16:01:57.0534|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/shoe/create application/json 194 - 405 0 - 517.2766ms 
2023-10-14 16:01:57.0534|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNNNBLMF2", Request id "0HMUCNNNBLMF2:00000001": started reading request body. 
2023-10-14 16:01:57.0534|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNNNBLMF2", Request id "0HMUCNNNBLMF2:00000001": done reading request body. 
2023-10-14 16:02:01.8856|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/shoe/create application/json 194 
2023-10-14 16:02:01.8856|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:02:01.8856|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/shoe/create' 
2023-10-14 16:02:01.8856|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.ShoeController.CreateShoe (ScriptShoes.API)' with route pattern 'api/shoe/create' is valid for the request path '/api/shoe/create' 
2023-10-14 16:02:01.8856|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.ShoeController.CreateShoe (ScriptShoes.API)' 
2023-10-14 16:02:01.8856|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:02:01.8856|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:02:01.8923|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=Role and Claim.Value is one of the following values: (User|Admin) 
2023-10-14 16:02:01.8923|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2023-10-14 16:02:01.8923|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF2" completed keep alive response. 
2023-10-14 16:02:01.8923|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/shoe/create application/json 194 - 401 0 - 10.1880ms 
2023-10-14 16:02:01.8923|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNNNBLMF2", Request id "0HMUCNNNBLMF2:00000002": started reading request body. 
2023-10-14 16:02:01.8923|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNNNBLMF2", Request id "0HMUCNNNBLMF2:00000002": done reading request body. 
2023-10-14 16:02:38.8179|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/register application/json 153 
2023-10-14 16:02:38.8179|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:02:38.8179|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/register' 
2023-10-14 16:02:38.8179|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' with route pattern 'api/user/register' is valid for the request path '/api/user/register' 
2023-10-14 16:02:38.8179|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:02:38.8179|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:02:38.8179|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:02:38.8179|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/register has been invoked 
2023-10-14 16:02:38.8179|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5013'. 
2023-10-14 16:02:38.8179|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2023-10-14 16:02:38.8179|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-14 16:02:38.8179|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:02:38.8405|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Register(ScriptShoes.Application.Models.User.RegisterDto) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:02:38.8405|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:02:38.8405|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:02:38.8405|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:02:38.8405|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:02:38.8405|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:02:38.8405|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:02:38.8405|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:02:38.8449|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' ... 
2023-10-14 16:02:38.8449|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' using the name '' in request data ... 
2023-10-14 16:02:38.8449|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-14 16:02:38.8449|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNNNBLMEU", Request id "0HMUCNNNBLMEU:00000003": started reading request body. 
2023-10-14 16:02:38.8449|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNNNBLMEU", Request id "0HMUCNNNBLMEU:00000003": done reading request body. 
2023-10-14 16:02:38.8449|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ScriptShoes.Application.Models.User.RegisterDto' 
2023-10-14 16:02:38.8449|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:02:38.8449|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:02:38.8449|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' ... 
2023-10-14 16:02:38.8634|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:02:38.8634|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:02:38.8634|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:02:38.8634|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:02:38.8634|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:02:38.8634|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:02:38.8634|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) with arguments (ScriptShoes.Application.Models.User.RegisterDto) 
2023-10-14 16:02:39.0603|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 16:02:39.8248|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:02:39.8584|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Any(x => x.Email == __email_0)' 
2023-10-14 16:02:39.9825|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:02:40.0149|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:02:40.0149|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:02:40.0587|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (39ms). 
2023-10-14 16:02:40.0648|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (47ms). 
2023-10-14 16:02:40.0648|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (55ms). 
2023-10-14 16:02:40.0648|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:02:40.2375|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:02:40.2570|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:02:40.2921|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (38ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:02:40.3068|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:02:40.3147|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 15ms reading results. 
2023-10-14 16:02:40.3147|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:02:40.3147|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 16:02:40.3408|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:02:40.3408|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:02:40.3408|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:02:40.3408|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:02:40.3456|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) in 1501.1308ms 
2023-10-14 16:02:40.3456|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:02:40.3658|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEU" completed keep alive response. 
2023-10-14 16:02:40.3658|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:02:40.3658|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:02:40.3658|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (2ms). 
2023-10-14 16:02:40.3769|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/register application/json 153 - 403 - application/json;+charset=utf-8 1559.0861ms 
2023-10-14 16:03:10.2808|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/register application/json 163 
2023-10-14 16:03:10.2808|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:03:10.2808|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/register' 
2023-10-14 16:03:10.2808|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' with route pattern 'api/user/register' is valid for the request path '/api/user/register' 
2023-10-14 16:03:10.2808|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:03:10.2808|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:03:10.2808|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:03:10.2821|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/register has been invoked 
2023-10-14 16:03:10.2821|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5013'. 
2023-10-14 16:03:10.2821|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2023-10-14 16:03:10.2821|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-14 16:03:10.2821|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:03:10.2821|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Register(ScriptShoes.Application.Models.User.RegisterDto) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:03:10.2821|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:03:10.2821|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:03:10.2821|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:03:10.2821|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:03:10.2821|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:03:10.2821|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:03:10.2821|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:03:10.2821|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' ... 
2023-10-14 16:03:10.2821|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' using the name '' in request data ... 
2023-10-14 16:03:10.2821|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-14 16:03:10.2821|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNNNBLMEU", Request id "0HMUCNNNBLMEU:00000004": started reading request body. 
2023-10-14 16:03:10.2821|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNNNBLMEU", Request id "0HMUCNNNBLMEU:00000004": done reading request body. 
2023-10-14 16:03:10.2821|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ScriptShoes.Application.Models.User.RegisterDto' 
2023-10-14 16:03:10.2821|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:03:10.2821|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:03:10.2821|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' ... 
2023-10-14 16:03:10.2821|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:03:10.2821|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:03:10.2821|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:03:10.2821|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:03:10.2821|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:03:10.2821|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:03:10.2821|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) with arguments (ScriptShoes.Application.Models.User.RegisterDto) 
2023-10-14 16:03:10.2821|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:03:10.2993|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:03:10.2993|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:03:10.2993|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-14 16:03:10.2993|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:10.2993|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:10.2993|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:03:10.2993|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:10.2993|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:03:10.2993|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:03:10.2993|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:10.2993|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 16:03:10.2993|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:10.2993|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:03:10.3935|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Any(x => x.Username == __name_0)' 
2023-10-14 16:03:10.3935|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Username == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:03:10.3935|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:03:10.3935|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:10.3935|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:10.3935|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:03:10.3935|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:10.3935|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__name_0) 
2023-10-14 16:03:10.3935|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__name_0) 
2023-10-14 16:03:10.3935|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:10.3935|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 16:03:10.3935|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:10.3935|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:03:10.3935|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:03:10.3935|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:10.3935|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:10.3935|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:03:10.3935|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:10.3935|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:03:10.3935|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:03:10.3935|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:10.3935|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 16:03:10.3935|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:10.3935|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:03:10.7537|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 466.6382ms. 
2023-10-14 16:03:10.7537|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:03:10.7537|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:03:10.7537|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:03:10.7537|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:03:10.7537|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:03:10.7537|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:03:10.7537|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-14 16:03:10.7537|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204 
2023-10-14 16:03:10.7537|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-14 16:03:10.7537|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:03:10.7537|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:03:10.7537|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) in 472.4727ms 
2023-10-14 16:03:10.7537|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:03:10.7537|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEU" completed keep alive response. 
2023-10-14 16:03:10.7537|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:03:10.7537|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:03:10.7537|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:03:10.7537|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/register application/json 163 - 204 - - 475.0710ms 
2023-10-14 16:03:47.9754|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/register application/json 163 
2023-10-14 16:03:47.9754|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:03:47.9754|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/register' 
2023-10-14 16:03:47.9754|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' with route pattern 'api/user/register' is valid for the request path '/api/user/register' 
2023-10-14 16:03:47.9754|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:03:47.9754|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:03:47.9754|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:03:47.9754|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/register has been invoked 
2023-10-14 16:03:47.9754|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5013'. 
2023-10-14 16:03:47.9754|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2023-10-14 16:03:47.9754|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-14 16:03:47.9754|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:03:47.9754|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Register(ScriptShoes.Application.Models.User.RegisterDto) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:03:47.9754|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:03:47.9754|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:03:47.9754|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:03:47.9754|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:03:47.9754|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:03:47.9754|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:03:47.9754|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:03:47.9754|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' ... 
2023-10-14 16:03:47.9754|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' using the name '' in request data ... 
2023-10-14 16:03:47.9754|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-14 16:03:47.9754|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNNNBLMEU", Request id "0HMUCNNNBLMEU:00000005": started reading request body. 
2023-10-14 16:03:47.9754|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNNNBLMEU", Request id "0HMUCNNNBLMEU:00000005": done reading request body. 
2023-10-14 16:03:47.9754|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ScriptShoes.Application.Models.User.RegisterDto' 
2023-10-14 16:03:47.9754|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:03:47.9754|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:03:47.9754|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' ... 
2023-10-14 16:03:47.9754|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:03:47.9754|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:03:47.9754|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:03:47.9754|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:03:47.9754|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:03:47.9754|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:03:47.9754|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) with arguments (ScriptShoes.Application.Models.User.RegisterDto) 
2023-10-14 16:03:48.0299|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:03:48.0299|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:03:48.0299|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:03:48.0299|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-14 16:03:48.0299|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:48.0299|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:48.0299|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:03:48.0299|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:48.0299|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:03:48.0299|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:03:48.0299|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:48.0299|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 16:03:48.0299|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:48.0299|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:03:48.0330|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:03:48.0330|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:48.0330|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:48.0330|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:03:48.0330|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:48.0330|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__name_0) 
2023-10-14 16:03:48.0330|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__name_0) 
2023-10-14 16:03:48.0330|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:48.0330|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 16:03:48.0330|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:48.0330|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:03:48.0330|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:03:48.0330|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:48.0330|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:03:48.0330|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:03:48.0330|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:48.0330|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:03:48.0330|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:03:48.0330|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:48.0330|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 16:03:48.0330|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:03:48.0330|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:03:48.1658|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 184.6921ms. 
2023-10-14 16:03:48.1658|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:03:48.1658|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:03:48.1658|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:03:48.1658|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:03:48.1658|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:03:48.1658|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:03:48.1658|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-14 16:03:48.1658|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204 
2023-10-14 16:03:48.1658|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-14 16:03:48.1658|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:03:48.1658|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:03:48.1658|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) in 185.7945ms 
2023-10-14 16:03:48.1658|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:03:48.1658|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEU" completed keep alive response. 
2023-10-14 16:03:48.1658|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:03:48.1658|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:03:48.1658|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:03:48.1658|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/register application/json 163 - 204 - - 191.0481ms 
2023-10-14 16:04:12.8300|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF2" disconnecting. 
2023-10-14 16:04:12.8300|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMF2" stopped. 
2023-10-14 16:04:12.8300|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNNNBLMF2" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:05:58.9391|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEU" disconnecting. 
2023-10-14 16:05:58.9391|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNNNBLMEU" stopped. 
2023-10-14 16:05:58.9391|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNNNBLMEU" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:06:19.2262|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 16:06:19.2262|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 16:06:19.2262|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 16:06:25.1010|0|DEBUG|Program|init main 
2023-10-14 16:06:25.2496|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 16:06:25.2847|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 16:06:25.2847|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 16:06:25.2996|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 16:06:25.2996|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 16:06:25.3135|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 16:06:25.3135|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:06:25.3135|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 16:06:25.3135|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:06:25.3135|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 16:06:25.3135|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 16:06:25.3135|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 16:06:25.3135|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 16:06:25.3551|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 16:06:25.3551|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 16:06:25.3551|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 16:06:25.3551|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 16:06:25.3551|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 16:06:25.3551|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 16:06:25.4622|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNR0DQ35E" received FIN. 
2023-10-14 16:06:25.4622|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35E" accepted. 
2023-10-14 16:06:25.4622|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35E" started. 
2023-10-14 16:06:25.4724|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNR0DQ35E" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:06:25.4724|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35E" disconnecting. 
2023-10-14 16:06:25.4724|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35E" stopped. 
2023-10-14 16:06:25.5192|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35F" accepted. 
2023-10-14 16:06:25.5192|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35F" started. 
2023-10-14 16:06:25.5192|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35G" accepted. 
2023-10-14 16:06:25.5192|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35G" started. 
2023-10-14 16:06:25.5415|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 16:06:25.5415|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 16:06:25.5415|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:06:25.5685|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 16:06:25.5685|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:06:25.6506|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35F" completed keep alive response. 
2023-10-14 16:06:25.6506|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 111.9620ms 
2023-10-14 16:06:25.9915|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 16:06:25.9915|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:06:25.9915|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 16:06:25.9915|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:06:26.0850|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35F" completed keep alive response. 
2023-10-14 16:06:26.0850|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 93.6281ms 
2023-10-14 16:06:45.9145|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 16:06:45.9145|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:06:45.9145|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 16:06:45.9145|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 16:06:45.9145|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:06:45.9145|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:06:45.9145|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 16:06:45.9412|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:06:45.9412|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/login has been invoked 
2023-10-14 16:06:45.9412|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 16:06:45.9412|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:06:45.9683|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:06:45.9683|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:06:45.9683|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:06:45.9683|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:06:45.9683|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:06:45.9683|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:06:45.9707|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:06:45.9707|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:06:45.9707|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 16:06:45.9707|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 16:06:45.9707|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:06:45.9707|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:06:45.9707|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 16:06:45.9873|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 16:06:45.9873|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 16:06:45.9873|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 16:06:45.9873|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:06:45.9873|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:06:45.9873|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 16:06:45.9873|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 16:06:45.9873|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:06:45.9873|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:06:45.9873|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:06:45.9873|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:06:45.9873|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:06:45.9873|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 16:06:46.0934|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 16:06:46.7386|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:06:46.7670|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 16:06:46.9051|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:06:46.9352|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:06:46.9352|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:06:46.9605|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-14 16:06:46.9605|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (28ms). 
2023-10-14 16:06:46.9705|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (36ms). 
2023-10-14 16:06:46.9705|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:06:47.1931|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:06:47.2059|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:06:47.2443|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (41ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:06:47.2531|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:06:47.2531|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results. 
2023-10-14 16:06:47.2531|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:06:47.2703|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 16:06:47.2703|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:06:47.2703|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:06:47.2703|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:06:47.2703|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:06:47.2703|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 1305.7242ms 
2023-10-14 16:06:47.2703|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:06:47.2703|0|FATAL|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|Email or password is incorrect 
2023-10-14 16:06:47.2871|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35F" completed keep alive response. 
2023-10-14 16:06:47.2871|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:06:47.2871|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:06:47.2871|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 16:06:47.2871|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 500 - application/json;+charset=utf-8 1380.4692ms 
2023-10-14 16:07:49.7823|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNR0DQ35G" received FIN. 
2023-10-14 16:07:49.7826|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNR0DQ35G" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:07:49.7826|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35G" disconnecting. 
2023-10-14 16:07:49.7826|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35G" stopped. 
2023-10-14 16:08:57.9603|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35F" disconnecting. 
2023-10-14 16:08:57.9603|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNR0DQ35F" stopped. 
2023-10-14 16:08:57.9603|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNR0DQ35F" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:09:28.8110|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 16:09:28.8110|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 16:09:28.8181|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 16:09:34.4934|0|DEBUG|Program|init main 
2023-10-14 16:09:34.6364|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 16:09:34.6684|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 16:09:34.6751|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 16:09:34.6751|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 16:09:34.6751|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 16:09:34.6751|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 16:09:34.6892|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:09:34.6892|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 16:09:34.6892|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:09:34.6892|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 16:09:34.6892|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 16:09:34.6892|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 16:09:34.6892|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 16:09:34.7273|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 16:09:34.7273|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 16:09:34.7273|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 16:09:34.7273|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 16:09:34.7273|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 16:09:34.7273|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 16:09:35.1963|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNSOV8AEC" received FIN. 
2023-10-14 16:09:35.1963|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AEC" accepted. 
2023-10-14 16:09:35.1963|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AEC" started. 
2023-10-14 16:09:35.2064|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNSOV8AEC" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:09:35.2064|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AEC" disconnecting. 
2023-10-14 16:09:35.2064|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AEC" stopped. 
2023-10-14 16:09:35.2601|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AED" accepted. 
2023-10-14 16:09:35.2601|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AED" started. 
2023-10-14 16:09:35.2601|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AEE" accepted. 
2023-10-14 16:09:35.2601|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AEE" started. 
2023-10-14 16:09:35.2869|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 16:09:35.2869|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 16:09:35.2869|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:09:35.3070|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 16:09:35.3070|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:09:35.3982|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AED" completed keep alive response. 
2023-10-14 16:09:35.3982|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 114.4493ms 
2023-10-14 16:09:35.7402|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 16:09:35.7402|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:09:35.7402|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 16:09:35.7402|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:09:35.8195|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AED" completed keep alive response. 
2023-10-14 16:09:35.8195|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 79.4385ms 
2023-10-14 16:09:57.8962|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 16:09:57.8962|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:09:57.8962|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 16:09:57.8962|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 16:09:57.8962|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:09:57.8962|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:09:57.9077|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 16:09:57.9274|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:09:57.9274|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/login has been invoked 
2023-10-14 16:09:57.9274|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 16:09:57.9274|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:09:57.9503|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:09:57.9503|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:09:57.9503|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:09:57.9503|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:09:57.9503|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:09:57.9503|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:09:57.9503|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:09:57.9503|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:09:57.9586|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 16:09:57.9586|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 16:09:57.9586|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:09:57.9586|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:09:57.9586|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 16:09:57.9586|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 16:09:57.9586|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 16:09:57.9586|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 16:09:57.9586|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:09:57.9586|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:09:57.9586|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 16:09:57.9586|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 16:09:57.9586|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:09:57.9586|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:09:57.9586|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:09:57.9586|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:09:57.9586|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:09:57.9586|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 16:09:58.0679|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 16:09:58.7046|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:09:58.7340|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 16:09:58.8661|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:09:58.9121|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:09:58.9121|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:09:58.9375|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-14 16:09:58.9426|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (28ms). 
2023-10-14 16:09:58.9426|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (35ms). 
2023-10-14 16:09:58.9426|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:09:59.1858|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:09:59.1976|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:09:59.2318|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (36ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:09:59.2409|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:09:59.2409|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results. 
2023-10-14 16:09:59.2541|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:09:59.2541|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 16:09:59.2541|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:09:59.2541|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:09:59.2541|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:09:59.2541|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:09:59.2541|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 1312.7931ms 
2023-10-14 16:09:59.2676|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:09:59.2676|0|FATAL|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|Email or password is incorrect 
2023-10-14 16:09:59.2676|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AED" completed keep alive response. 
2023-10-14 16:09:59.2676|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:09:59.2676|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:09:59.2834|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 16:09:59.2834|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 500 - application/json;+charset=utf-8 1387.7072ms 
2023-10-14 16:10:49.7864|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNSOV8AEE" received FIN. 
2023-10-14 16:10:49.7864|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNSOV8AEE" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:10:49.7864|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AEE" disconnecting. 
2023-10-14 16:10:49.7864|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AEE" stopped. 
2023-10-14 16:11:37.5145|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/register application/json 163 
2023-10-14 16:11:37.5145|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:11:37.5145|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/register' 
2023-10-14 16:11:37.5145|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' with route pattern 'api/user/register' is valid for the request path '/api/user/register' 
2023-10-14 16:11:37.5145|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:11:37.5145|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:11:37.5145|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:11:37.5174|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/register has been invoked 
2023-10-14 16:11:37.5174|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5013'. 
2023-10-14 16:11:37.5174|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2023-10-14 16:11:37.5174|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-14 16:11:37.5174|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:11:37.5174|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Register(ScriptShoes.Application.Models.User.RegisterDto) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:11:37.5174|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:11:37.5174|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:11:37.5174|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:11:37.5174|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:11:37.5174|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:11:37.5174|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:11:37.5174|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:11:37.5174|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' ... 
2023-10-14 16:11:37.5174|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' using the name '' in request data ... 
2023-10-14 16:11:37.5174|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-14 16:11:37.5174|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNSOV8AED", Request id "0HMUCNSOV8AED:00000004": started reading request body. 
2023-10-14 16:11:37.5174|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCNSOV8AED", Request id "0HMUCNSOV8AED:00000004": done reading request body. 
2023-10-14 16:11:37.5174|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ScriptShoes.Application.Models.User.RegisterDto' 
2023-10-14 16:11:37.5174|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:11:37.5174|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:11:37.5174|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' ... 
2023-10-14 16:11:37.5348|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:11:37.5348|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:11:37.5348|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:11:37.5348|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:11:37.5348|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:11:37.5348|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:11:37.5348|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) with arguments (ScriptShoes.Application.Models.User.RegisterDto) 
2023-10-14 16:11:37.5800|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:11:37.5800|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Any(x => x.Email == __email_0)' 
2023-10-14 16:11:37.5800|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:11:37.5800|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:11:37.5800|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:11:37.5800|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-14 16:11:37.5800|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:11:37.5800|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:11:37.5800|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:11:37.5800|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:11:37.5800|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:11:37.5800|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:11:37.5997|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:11:37.5997|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results. 
2023-10-14 16:11:37.5997|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:11:37.5997|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:11:37.5997|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Any(x => x.Username == __name_0)' 
2023-10-14 16:11:37.5997|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Username == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:11:37.5997|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:11:37.5997|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:11:37.5997|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:11:37.5997|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:11:37.5997|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:11:37.5997|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__name_0) 
2023-10-14 16:11:37.6153|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__name_0) 
2023-10-14 16:11:37.6153|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:11:37.6153|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results. 
2023-10-14 16:11:37.6153|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:11:37.6153|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:11:37.6153|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:11:37.6153|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:11:37.6153|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:11:37.6153|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:11:37.6153|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:11:37.6153|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:11:37.6153|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:11:37.6153|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:11:37.6153|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 16:11:37.6153|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:11:37.6153|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:11:37.9098|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 372.1864ms. 
2023-10-14 16:11:37.9098|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:11:37.9098|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:11:37.9098|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:11:37.9098|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:11:37.9098|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:11:37.9098|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:11:37.9098|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-14 16:11:37.9098|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204 
2023-10-14 16:11:37.9098|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-14 16:11:37.9098|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:11:37.9098|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:11:37.9098|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) in 389.6924ms 
2023-10-14 16:11:37.9098|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:11:37.9098|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AED" completed keep alive response. 
2023-10-14 16:11:37.9098|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:11:37.9098|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:11:37.9098|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:11:37.9098|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/register application/json 163 - 204 - - 397.9149ms 
2023-10-14 16:13:48.3093|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AED" disconnecting. 
2023-10-14 16:13:48.3093|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCNSOV8AED" stopped. 
2023-10-14 16:13:48.3093|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCNSOV8AED" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:14:11.9297|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 16:14:11.9297|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 16:14:11.9297|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 16:16:34.1618|0|DEBUG|Program|init main 
2023-10-14 16:16:34.2959|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 16:16:34.3268|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 16:16:34.3443|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 16:16:34.3480|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 16:16:34.3480|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 16:16:34.3480|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 16:16:34.3480|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:16:34.3480|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 16:16:34.3480|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:16:34.3621|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 16:16:34.3621|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 16:16:34.3621|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 16:16:34.3621|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 16:16:34.3942|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 16:16:34.3942|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 16:16:34.3942|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 16:16:34.3942|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 16:16:34.3942|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 16:16:34.3942|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 16:16:34.4850|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO0LTT23V" received FIN. 
2023-10-14 16:16:34.4885|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT23V" accepted. 
2023-10-14 16:16:34.4885|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT23V" started. 
2023-10-14 16:16:34.4885|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO0LTT23V" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:16:34.4885|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT23V" disconnecting. 
2023-10-14 16:16:34.4885|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT23V" stopped. 
2023-10-14 16:16:34.5383|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT240" accepted. 
2023-10-14 16:16:34.5383|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT240" started. 
2023-10-14 16:16:34.5383|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT241" accepted. 
2023-10-14 16:16:34.5383|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT241" started. 
2023-10-14 16:16:34.5576|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 16:16:34.5576|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 16:16:34.5576|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:16:34.5783|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 16:16:34.5783|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:16:34.6576|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT240" completed keep alive response. 
2023-10-14 16:16:34.6585|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 102.2908ms 
2023-10-14 16:16:34.9874|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 16:16:34.9874|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:16:34.9874|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 16:16:34.9874|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:16:35.0788|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT240" completed keep alive response. 
2023-10-14 16:16:35.0788|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 91.5756ms 
2023-10-14 16:16:41.2377|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/register application/json 163 
2023-10-14 16:16:41.2377|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:16:41.2377|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/register' 
2023-10-14 16:16:41.2377|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' with route pattern 'api/user/register' is valid for the request path '/api/user/register' 
2023-10-14 16:16:41.2377|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:16:41.2377|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:16:41.2377|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 16:16:41.2649|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:16:41.2681|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/register has been invoked 
2023-10-14 16:16:41.2681|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5013'. 
2023-10-14 16:16:41.2681|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2023-10-14 16:16:41.2681|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-14 16:16:41.2681|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:16:41.2874|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Register(ScriptShoes.Application.Models.User.RegisterDto) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:16:41.2874|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:16:41.2874|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:16:41.2874|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:16:41.2874|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:16:41.2874|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:16:41.2874|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:16:41.2874|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:16:41.2874|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' ... 
2023-10-14 16:16:41.2874|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' using the name '' in request data ... 
2023-10-14 16:16:41.2874|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-14 16:16:41.3000|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCO0LTT240", Request id "0HMUCO0LTT240:00000003": started reading request body. 
2023-10-14 16:16:41.3000|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCO0LTT240", Request id "0HMUCO0LTT240:00000003": done reading request body. 
2023-10-14 16:16:41.3000|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ScriptShoes.Application.Models.User.RegisterDto' 
2023-10-14 16:16:41.3000|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:16:41.3000|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:16:41.3000|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto' ... 
2023-10-14 16:16:41.3000|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.User.RegisterDto'. 
2023-10-14 16:16:41.3000|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:16:41.3000|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:16:41.3000|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:16:41.3000|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:16:41.3152|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:16:41.3152|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) with arguments (ScriptShoes.Application.Models.User.RegisterDto) 
2023-10-14 16:16:41.4090|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 16:16:42.1219|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:16:42.1508|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Any(x => x.Email == __email_0)' 
2023-10-14 16:16:42.2721|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:16:42.3053|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:16:42.3053|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:16:42.3317|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-14 16:16:42.3317|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2023-10-14 16:16:42.3317|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (36ms). 
2023-10-14 16:16:42.3317|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:16:42.4751|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:42.4873|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:16:42.5214|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:16:42.5351|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:42.5351|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 15ms reading results. 
2023-10-14 16:16:42.5486|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:42.5486|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 16:16:42.5649|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Any(x => x.Username == __name_0)' 
2023-10-14 16:16:42.5649|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Username == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:16:42.5649|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:16:42.5649|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:16:42.5649|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:16:42.5649|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:16:42.5649|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:42.5649|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__name_0) 
2023-10-14 16:16:42.5649|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__name_0) 
2023-10-14 16:16:42.5649|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:42.5649|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 16:16:42.5649|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:42.5649|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:16:42.5649|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:16:42.5649|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:16:42.5649|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:16:42.5649|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:16:42.5649|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:42.5649|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:16:42.5649|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0) 
2023-10-14 16:16:42.5649|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:42.5649|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 16:16:42.5649|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:42.5649|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:16:42.8683|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."User"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:16:42.9211|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:16:42.9236|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 16:16:42.9236|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 16:16:42.9387|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-14 16:16:42.9387|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 16:16:42.9387|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'User.Created' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-14 16:16:42.9387|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'User.LastModified' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-14 16:16:42.9387|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 16:16:42.9878|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:16:42.9878|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:42.9878|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:16:42.9878|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:16:42.9878|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:16:42.9878|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("AccessToken", "AccessTokenExpirationTime", "AvailableFounds", "Created", "Email", "FirsName", "HashedPassword", "IsVerified", "LastModified", "LastName", "ProfilePictureUrl", "RefreshToken", "RefreshTokenExpirationTime", "RoleId", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14)
RETURNING "Id"; 
2023-10-14 16:16:43.0038|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("AccessToken", "AccessTokenExpirationTime", "AvailableFounds", "Created", "Email", "FirsName", "HashedPassword", "IsVerified", "LastModified", "LastName", "ProfilePictureUrl", "RefreshToken", "RefreshTokenExpirationTime", "RoleId", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14)
RETURNING "Id"; 
2023-10-14 16:16:43.0038|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-14 16:16:43.0038|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:43.0038|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results. 
2023-10-14 16:16:43.0038|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:16:43.0038|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:16:43.0248|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:16:43.0248|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-14 16:16:43.0248|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 1713.7787ms. 
2023-10-14 16:16:43.0326|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:16:43.0326|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:16:43.0326|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:16:43.0326|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:16:43.0326|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:16:43.0326|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:16:43.0326|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-14 16:16:43.0326|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204 
2023-10-14 16:16:43.0326|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-14 16:16:43.0326|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:16:43.0326|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:16:43.0326|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API) in 1748.6457ms 
2023-10-14 16:16:43.0326|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Register (ScriptShoes.API)' 
2023-10-14 16:16:43.0326|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT240" completed keep alive response. 
2023-10-14 16:16:43.0326|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:16:43.0515|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:16:43.0515|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 16:16:43.0515|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/register application/json 163 - 204 - - 1816.0450ms 
2023-10-14 16:17:04.5059|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 16:17:04.5059|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:17:04.5059|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 16:17:04.5059|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 16:17:04.5059|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:17:04.5059|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:17:04.5059|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:17:04.5059|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/login has been invoked 
2023-10-14 16:17:04.5059|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 16:17:04.5059|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:17:04.5059|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:17:04.5059|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:17:04.5059|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:17:04.5059|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:17:04.5059|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:17:04.5059|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:17:04.5059|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:17:04.5059|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:17:04.5178|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 16:17:04.5178|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 16:17:04.5178|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:17:04.5178|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:17:04.5178|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 16:17:04.5178|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 16:17:04.5178|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 16:17:04.5178|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 16:17:04.5178|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:17:04.5178|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:17:04.5178|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 16:17:04.5178|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 16:17:04.5178|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:17:04.5178|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:17:04.5178|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:17:04.5178|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:17:04.5178|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:17:04.5178|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 16:17:04.5376|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:17:04.5376|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 16:17:04.5595|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:17:04.5643|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:17:04.5643|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:17:04.5643|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-14 16:17:04.5643|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:17:04.5643|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:17:04.5643|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:17:04.5643|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:17:04.5643|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:17:04.5643|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:17:04.5643|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:17:04.5643|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:17:04.5643|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results. 
2023-10-14 16:17:04.5643|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:17:04.5643|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:17:04.7139|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:17:04.7139|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:17:04.7139|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:17:04.7139|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:17:04.7139|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 200.3538ms 
2023-10-14 16:17:04.7139|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:17:04.7139|0|FATAL|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|Object reference not set to an instance of an object. 
2023-10-14 16:17:04.7139|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT240" completed keep alive response. 
2023-10-14 16:17:04.7139|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:17:04.7139|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:17:04.7139|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:17:04.7139|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 500 - application/json;+charset=utf-8 210.3076ms 
2023-10-14 16:18:45.7256|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT241" disconnecting. 
2023-10-14 16:18:45.7256|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT241" stopped. 
2023-10-14 16:18:45.7256|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO0LTT241" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:19:16.0598|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT240" disconnecting. 
2023-10-14 16:19:16.0598|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO0LTT240" stopped. 
2023-10-14 16:19:16.0598|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO0LTT240" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:19:30.3422|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 16:19:30.3422|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 16:19:30.3482|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 16:19:50.2677|0|DEBUG|Program|init main 
2023-10-14 16:19:50.4126|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 16:19:50.4443|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 16:19:50.4443|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 16:19:50.4550|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 16:19:50.4550|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 16:19:50.4550|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 16:19:50.4550|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:19:50.4550|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 16:19:50.4550|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:19:50.4694|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 16:19:50.4694|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 16:19:50.4694|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 16:19:50.4694|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 16:19:50.5017|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 16:19:50.5017|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 16:19:50.5017|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 16:19:50.5017|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 16:19:50.5017|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 16:19:50.5017|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 16:19:50.6781|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO2GCUF7O" received FIN. 
2023-10-14 16:19:50.6781|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7O" accepted. 
2023-10-14 16:19:50.6781|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7O" started. 
2023-10-14 16:19:50.6781|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO2GCUF7O" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:19:50.6781|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7O" disconnecting. 
2023-10-14 16:19:50.6910|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7O" stopped. 
2023-10-14 16:19:50.7435|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7P" accepted. 
2023-10-14 16:19:50.7435|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7P" started. 
2023-10-14 16:19:50.7435|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7Q" accepted. 
2023-10-14 16:19:50.7435|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7Q" started. 
2023-10-14 16:19:50.7706|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 16:19:50.7706|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 16:19:50.7706|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:19:50.7909|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 16:19:50.7909|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:19:50.8772|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7P" completed keep alive response. 
2023-10-14 16:19:50.8772|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 110.2321ms 
2023-10-14 16:19:51.2228|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 16:19:51.2228|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:19:51.2228|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 16:19:51.2228|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:19:51.3116|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7P" completed keep alive response. 
2023-10-14 16:19:51.3116|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 89.0948ms 
2023-10-14 16:19:59.3289|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 16:19:59.3289|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:19:59.3327|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 16:19:59.3327|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 16:19:59.3327|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:19:59.3327|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:19:59.3327|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 16:19:59.3566|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:19:59.3566|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 16:19:59.3616|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:19:59.3768|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:19:59.3768|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:19:59.3768|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:19:59.3768|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:19:59.3768|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:19:59.3768|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:19:59.3768|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:19:59.3768|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:19:59.3768|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 16:19:59.3768|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 16:19:59.3768|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:19:59.3768|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:19:59.3768|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 16:19:59.3768|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 16:19:59.3916|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 16:19:59.3916|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 16:19:59.3916|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:19:59.3916|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:19:59.3916|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 16:19:59.3916|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 16:19:59.3916|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:19:59.3916|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:19:59.3916|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:19:59.3916|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:19:59.3916|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:19:59.3916|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 16:19:59.4942|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 16:20:00.1288|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:20:00.1579|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 16:20:00.2865|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:20:00.3167|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:20:00.3167|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:20:00.3433|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-14 16:20:00.3489|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (30ms). 
2023-10-14 16:20:00.3489|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (36ms). 
2023-10-14 16:20:00.3489|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:20:00.4724|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:20:00.4724|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:20:00.5189|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (38ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:20:00.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:20:00.5897|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:20:00.5982|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 72ms reading results. 
2023-10-14 16:20:00.5982|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:20:00.5982|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 16:20:00.8282|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:20:00.8282|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:20:00.8288|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:20:00.8288|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:20:00.8288|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 1452.246ms 
2023-10-14 16:20:00.8288|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:20:00.8288|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 27
   at ScriptShoes.Application.Features.User.Queries.Login.LoginQueryHandler.Handle(LoginQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\Login\LoginQueryHandler.cs:line 27
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.Login(String email, String password) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 32
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 16:20:00.9296|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7P" completed keep alive response. 
2023-10-14 16:20:00.9296|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:20:00.9296|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:20:00.9296|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 16:20:00.9383|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 500 - text/plain;+charset=utf-8 1609.3924ms 
2023-10-14 16:20:15.4670|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 16:20:15.4670|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 16:20:15.4724|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7Q" disconnecting. 
2023-10-14 16:20:15.4724|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7P" disconnecting. 
2023-10-14 16:20:15.4724|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7Q" stopped. 
2023-10-14 16:20:15.4724|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO2GCUF7P" stopped. 
2023-10-14 16:20:15.4724|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO2GCUF7Q" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:20:15.4724|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO2GCUF7P" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:20:15.4724|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 16:23:06.3620|0|DEBUG|Program|init main 
2023-10-14 16:23:06.5128|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 16:23:06.5452|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 16:23:06.5521|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 16:23:06.5521|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 16:23:06.5521|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 16:23:06.5656|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 16:23:06.5656|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:23:06.5656|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 16:23:06.5656|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:23:06.5656|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 16:23:06.5656|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 16:23:06.5656|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 16:23:06.5656|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 16:23:06.6073|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 16:23:06.6107|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 16:23:06.6107|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 16:23:06.6107|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 16:23:06.6107|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 16:23:06.6107|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 16:23:07.0598|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO4ATPDD7" received FIN. 
2023-10-14 16:23:07.0637|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD7" accepted. 
2023-10-14 16:23:07.0637|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD7" started. 
2023-10-14 16:23:07.0637|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO4ATPDD7" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:23:07.0637|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD7" disconnecting. 
2023-10-14 16:23:07.0637|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD7" stopped. 
2023-10-14 16:23:07.1300|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD8" accepted. 
2023-10-14 16:23:07.1300|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD8" started. 
2023-10-14 16:23:07.1300|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD9" accepted. 
2023-10-14 16:23:07.1300|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD9" started. 
2023-10-14 16:23:07.1560|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 16:23:07.1560|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 16:23:07.1560|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:23:07.1765|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 16:23:07.1765|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:23:07.2600|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD8" completed keep alive response. 
2023-10-14 16:23:07.2600|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 106.5701ms 
2023-10-14 16:23:07.5965|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 16:23:07.5965|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:23:07.5965|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 16:23:07.5965|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:23:07.6813|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD8" completed keep alive response. 
2023-10-14 16:23:07.6813|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 85.0108ms 
2023-10-14 16:23:16.3214|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 16:23:16.3214|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:23:16.3214|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 16:23:16.3214|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 16:23:16.3214|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:23:16.3214|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:23:16.3214|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 16:23:16.3473|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:23:16.3473|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 16:23:16.3473|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:23:16.3669|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:23:16.3669|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:23:16.3669|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:23:16.3669|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:23:16.3669|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:23:16.3669|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:23:16.3669|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:23:16.3669|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:23:16.3669|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 16:23:16.3669|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 16:23:16.3768|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:23:16.3768|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:23:16.3768|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 16:23:16.3768|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 16:23:16.3768|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 16:23:16.3768|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 16:23:16.3768|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:23:16.3768|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:23:16.3768|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 16:23:16.3768|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 16:23:16.3768|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:23:16.3768|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:23:16.3768|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:23:16.3768|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:23:16.3768|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:23:16.3768|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 16:23:16.4762|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 16:23:17.0922|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:23:17.1406|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Role)
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 16:23:17.1889|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'User.Role'. 
2023-10-14 16:23:17.3116|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Role.Created (DateTime) Required, 17], [Property: Role.LastModified (DateTime) Required, 18], [Property: Role.Name (string) Required, 19] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username, r.Id, r.Created, r.LastModified, r.Name
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:23:17.3421|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:23:17.3421|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:23:17.3677|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-14 16:23:17.3677|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2023-10-14 16:23:17.3769|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (35ms). 
2023-10-14 16:23:17.3769|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:23:17.4976|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:23:17.5097|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:23:17.5436|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:23:17.5739|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:23:17.6156|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:23:17.6156|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:23:17.6287|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:23:17.6287|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 86ms reading results. 
2023-10-14 16:23:17.6287|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:23:17.6462|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 16:23:18.0967|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:23:18.0967|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 16:23:18.1133|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 16:23:18.1133|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-14 16:23:18.1133|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 16:23:18.1133|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 16:23:18.1892|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:23:18.1892|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:23:18.1892|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:23:18.1892|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:23:18.1892|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:23:18.1892|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 16:23:18.1892|20102|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (3ms) [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 16:23:18.1892|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:23:18.1892|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:23:18.2097|10000|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ScriptShoes.Persistence.Database.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-10-14 16:23:18.2097|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:23:18.2097|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:23:18.2097|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:23:18.2097|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:23:18.2206|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 1849.7036ms 
2023-10-14 16:23:18.2206|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:23:18.2206|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 58
   at ScriptShoes.Application.Features.User.Queries.Login.LoginQueryHandler.Handle(LoginQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\Login\LoginQueryHandler.cs:line 27
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.Login(String email, String password) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 32
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 16:23:18.2415|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD8" completed keep alive response. 
2023-10-14 16:23:18.2415|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:23:18.2415|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:23:18.2415|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 16:23:18.2415|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 500 - text/plain;+charset=utf-8 1928.4446ms 
2023-10-14 16:23:32.0675|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 16:23:32.0675|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 16:23:32.0675|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD8" disconnecting. 
2023-10-14 16:23:32.0675|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD9" disconnecting. 
2023-10-14 16:23:32.0675|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD9" stopped. 
2023-10-14 16:23:32.0675|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4ATPDD8" stopped. 
2023-10-14 16:23:32.0675|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO4ATPDD9" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:23:32.0675|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO4ATPDD8" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:23:32.0675|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 16:24:04.8023|0|DEBUG|Program|init main 
2023-10-14 16:24:04.9473|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 16:24:04.9782|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 16:24:04.9782|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 16:24:04.9885|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 16:24:04.9885|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 16:24:04.9885|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 16:24:04.9885|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:24:04.9885|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 16:24:04.9885|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:24:05.0025|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 16:24:05.0025|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 16:24:05.0025|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 16:24:05.0025|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 16:24:05.0345|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 16:24:05.0345|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 16:24:05.0345|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 16:24:05.0345|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 16:24:05.0345|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 16:24:05.0345|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 16:24:05.1853|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO4S83T2E" received FIN. 
2023-10-14 16:24:05.1853|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2E" accepted. 
2023-10-14 16:24:05.1853|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2E" started. 
2023-10-14 16:24:05.1945|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO4S83T2E" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:24:05.1945|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2E" disconnecting. 
2023-10-14 16:24:05.1945|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2E" stopped. 
2023-10-14 16:24:05.2313|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2F" accepted. 
2023-10-14 16:24:05.2313|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2F" started. 
2023-10-14 16:24:05.2313|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2G" accepted. 
2023-10-14 16:24:05.2313|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2G" started. 
2023-10-14 16:24:05.2505|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 16:24:05.2514|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 16:24:05.2514|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:24:05.2696|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 16:24:05.2696|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:24:05.3472|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2F" completed keep alive response. 
2023-10-14 16:24:05.3472|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 98.9537ms 
2023-10-14 16:24:05.6823|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 16:24:05.6823|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:24:05.6823|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 16:24:05.6823|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:24:05.7681|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2F" completed keep alive response. 
2023-10-14 16:24:05.7681|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 85.9420ms 
2023-10-14 16:24:13.2938|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 16:24:13.2938|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:24:13.2938|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 16:24:13.2988|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 16:24:13.2988|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:24:13.2988|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:24:13.2988|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 16:24:13.3206|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:24:13.3206|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 16:24:13.3206|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:24:13.3413|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:24:13.3413|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:24:13.3413|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:24:13.3413|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:24:13.3413|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:24:13.3413|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:24:13.3413|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:24:13.3413|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:24:13.3495|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 16:24:13.3495|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 16:24:13.3495|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:24:13.3495|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:24:13.3495|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 16:24:13.3495|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 16:24:13.3495|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 16:24:13.3495|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 16:24:13.3495|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:24:13.3495|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:24:13.3495|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 16:24:13.3495|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 16:24:13.3495|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:24:13.3495|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:24:13.3495|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:24:13.3495|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:24:13.3495|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:24:13.3495|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 16:24:13.4555|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 16:24:14.0725|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:24:14.1189|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Role)
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 16:24:14.1676|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'User.Role'. 
2023-10-14 16:24:14.2915|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Role.Created (DateTime) Required, 17], [Property: Role.LastModified (DateTime) Required, 18], [Property: Role.Name (string) Required, 19] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username, r.Id, r.Created, r.LastModified, r.Name
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:24:14.3210|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:24:14.3210|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:24:14.3472|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-14 16:24:14.3472|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2023-10-14 16:24:14.3472|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (36ms). 
2023-10-14 16:24:14.3472|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:24:14.5920|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:24:14.6035|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:24:14.6390|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (38ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:24:14.6715|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:24:14.7165|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:24:14.7165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:24:14.7296|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:24:14.7377|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 92ms reading results. 
2023-10-14 16:24:14.7377|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:24:14.7377|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 16:24:14.9638|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:24:14.9638|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:24:14.9638|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:24:14.9638|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:24:14.9638|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 1623.4539ms 
2023-10-14 16:24:14.9638|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:24:14.9734|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.ArgumentException: IDX12401: Expires: '10/14/2023 2:29:14 PM' must be after NotBefore: '10/14/2023 4:24:14 PM'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityToken..ctor(String issuer, String audience, IEnumerable`1 claims, Nullable`1 notBefore, Nullable`1 expires, SigningCredentials signingCredentials)
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 45
   at ScriptShoes.Application.Features.User.Queries.Login.LoginQueryHandler.Handle(LoginQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\Login\LoginQueryHandler.cs:line 27
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.Login(String email, String password) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 32
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 16:24:14.9940|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2F" completed keep alive response. 
2023-10-14 16:24:14.9940|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:24:14.9940|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:24:15.0014|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 16:24:15.0014|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 500 - text/plain;+charset=utf-8 1708.1484ms 
2023-10-14 16:25:27.6645|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 16:25:27.6645|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 16:25:27.6645|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2G" disconnecting. 
2023-10-14 16:25:27.6645|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2F" disconnecting. 
2023-10-14 16:25:27.6645|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2F" stopped. 
2023-10-14 16:25:27.6645|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO4S83T2G" stopped. 
2023-10-14 16:25:27.6645|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO4S83T2F" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:25:27.6645|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO4S83T2G" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:25:27.6761|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 16:25:32.8626|0|DEBUG|Program|init main 
2023-10-14 16:25:32.9934|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 16:25:33.0236|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 16:25:33.0236|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 16:25:33.0339|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 16:25:33.0339|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 16:25:33.0339|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 16:25:33.0339|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:25:33.0339|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 16:25:33.0339|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 16:25:33.0339|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 16:25:33.0339|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 16:25:33.0477|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 16:25:33.0477|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 16:25:33.0771|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 16:25:33.0802|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 16:25:33.0802|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 16:25:33.0802|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 16:25:33.0802|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 16:25:33.0802|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 16:25:33.2968|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO5MGDD52" received FIN. 
2023-10-14 16:25:33.3003|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD52" accepted. 
2023-10-14 16:25:33.3003|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD52" started. 
2023-10-14 16:25:33.3003|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO5MGDD52" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:25:33.3003|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD52" disconnecting. 
2023-10-14 16:25:33.3145|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD52" stopped. 
2023-10-14 16:25:33.3482|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD53" accepted. 
2023-10-14 16:25:33.3482|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD53" started. 
2023-10-14 16:25:33.3482|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD54" accepted. 
2023-10-14 16:25:33.3482|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD54" started. 
2023-10-14 16:25:33.3691|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 16:25:33.3691|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 16:25:33.3691|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:25:33.3892|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 16:25:33.3892|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:25:33.4665|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD53" completed keep alive response. 
2023-10-14 16:25:33.4665|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 99.7952ms 
2023-10-14 16:25:33.7973|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 16:25:33.7973|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:25:33.7973|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 16:25:33.7973|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 16:25:33.8863|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD53" completed keep alive response. 
2023-10-14 16:25:33.8863|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 89.1854ms 
2023-10-14 16:25:40.7802|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 16:25:40.7802|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:25:40.7839|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 16:25:40.7839|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 16:25:40.7839|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:25:40.7839|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:25:40.7839|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 16:25:40.8069|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 16:25:40.8069|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 16:25:40.8069|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:25:40.8270|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 16:25:40.8270|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:25:40.8270|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:25:40.8270|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:25:40.8270|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:25:40.8270|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:25:40.8289|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:25:40.8289|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 16:25:40.8289|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 16:25:40.8289|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 16:25:40.8289|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:25:40.8289|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 16:25:40.8289|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 16:25:40.8289|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 16:25:40.8289|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 16:25:40.8289|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 16:25:40.8289|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:25:40.8289|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 16:25:40.8455|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 16:25:40.8455|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 16:25:40.8455|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:25:40.8455|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:25:40.8455|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:25:40.8455|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:25:40.8455|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:25:40.8455|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 16:25:40.9406|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 16:25:41.5586|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:25:41.6062|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Role)
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 16:25:41.6564|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'User.Role'. 
2023-10-14 16:25:41.7779|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Role.Created (DateTime) Required, 17], [Property: Role.LastModified (DateTime) Required, 18], [Property: Role.Name (string) Required, 19] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username, r.Id, r.Created, r.LastModified, r.Name
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:25:41.8067|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:25:41.8067|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:25:41.8316|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-14 16:25:41.8316|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (28ms). 
2023-10-14 16:25:41.8316|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (34ms). 
2023-10-14 16:25:41.8316|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:25:41.9601|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:25:41.9716|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:25:42.0065|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 16:25:42.0521|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:25:42.1016|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:25:42.1016|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:25:42.1146|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:25:42.1146|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 109ms reading results. 
2023-10-14 16:25:42.1273|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:25:42.1273|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 16:25:42.4163|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:25:42.4163|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 16:25:42.4325|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 16:25:42.4325|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-14 16:25:42.4325|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 16:25:42.4325|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 16:25:42.5044|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:25:42.5044|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:25:42.5044|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:25:42.5044|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:25:42.5044|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:25:42.5044|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 16:25:42.5311|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 16:25:42.5336|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:25:42.5336|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results. 
2023-10-14 16:25:42.5336|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:25:42.5336|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:25:42.5336|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:25:42.5336|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-14 16:25:42.5336|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:25:42.5336|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 16:25:42.5336|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 16:25:42.5336|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-14 16:25:42.5336|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 16:25:42.5336|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 16:25:42.5336|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:25:42.5336|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:25:42.5336|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:25:42.5336|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:25:42.5336|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:25:42.5336|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 16:25:42.5336|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 16:25:42.5336|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:25:42.5336|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 16:25:42.5336|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:25:42.5336|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:25:42.5336|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 16:25:42.5336|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-14 16:25:42.5493|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1697.0972ms. 
2023-10-14 16:25:42.5493|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:25:42.5493|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:25:42.5493|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:25:42.5493|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:25:42.5493|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:25:42.5493|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:25:42.5493|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 16:25:42.5493|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-14 16:25:42.5493|6|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'text/plain'. 
2023-10-14 16:25:42.5493|5|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Could not find an output formatter based on content negotiation. Accepted types were (text/plain) 
2023-10-14 16:25:42.5493|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2023-10-14 16:25:42.5493|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2023-10-14 16:25:42.5493|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-14 16:25:42.5493|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'ScriptShoes.Application.Models.User.LoginResponseDto'. 
2023-10-14 16:25:42.5717|11|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|Response is not cacheable because it does not contain the 'public' cache directive. 
2023-10-14 16:25:42.5717|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 16:25:42.5717|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:25:42.5717|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 16:25:42.5717|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 1745.0087ms 
2023-10-14 16:25:42.5717|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 16:25:42.5717|27|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The response could not be cached for this request. 
2023-10-14 16:25:42.5800|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD53" completed keep alive response. 
2023-10-14 16:25:42.5800|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:25:42.5800|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:25:42.5800|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (2ms). 
2023-10-14 16:25:42.5800|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 200 - application/json;+charset=utf-8 1808.4395ms 
2023-10-14 16:26:13.8033|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD55" accepted. 
2023-10-14 16:26:13.8033|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD55" started. 
2023-10-14 16:26:13.8033|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO5MGDD55" received FIN. 
2023-10-14 16:26:13.8033|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD56" accepted. 
2023-10-14 16:26:13.8033|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD56" started. 
2023-10-14 16:26:13.8033|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO5MGDD55" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:26:13.8033|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD55" disconnecting. 
2023-10-14 16:26:13.8033|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/shoe/create application/json 194 
2023-10-14 16:26:13.8033|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 16:26:13.8033|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/shoe/create' 
2023-10-14 16:26:13.8033|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.ShoeController.CreateShoe (ScriptShoes.API)' with route pattern 'api/shoe/create' is valid for the request path '/api/shoe/create' 
2023-10-14 16:26:13.8033|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.ShoeController.CreateShoe (ScriptShoes.API)' 
2023-10-14 16:26:13.8033|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 16:26:13.8033|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD55" stopped. 
2023-10-14 16:26:13.8453|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2023-10-14 16:26:13.8453|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2023-10-14 16:26:13.8453|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-14 16:26:13.8453|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-14 16:26:13.8453|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-14 16:26:13.8453|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.ShoeController.CreateShoe (ScriptShoes.API)' 
2023-10-14 16:26:13.8453|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateShoe", controller = "Shoe"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateShoe(ScriptShoes.Application.Models.Shoe.CreateShoeDto) on controller ScriptShoes.API.Controllers.ShoeController (ScriptShoes.API). 
2023-10-14 16:26:13.8453|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 16:26:13.8453|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 16:26:13.8453|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 16:26:13.8453|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 16:26:13.8453|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 16:26:13.8453|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.ShoeController (ScriptShoes.API) 
2023-10-14 16:26:13.8453|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.ShoeController (ScriptShoes.API) 
2023-10-14 16:26:13.8453|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.Shoe.CreateShoeDto' ... 
2023-10-14 16:26:13.8453|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.Shoe.CreateShoeDto' using the name '' in request data ... 
2023-10-14 16:26:13.8453|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-10-14 16:26:13.8653|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCO5MGDD56", Request id "0HMUCO5MGDD56:00000001": started reading request body. 
2023-10-14 16:26:13.8653|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCO5MGDD56", Request id "0HMUCO5MGDD56:00000001": done reading request body. 
2023-10-14 16:26:13.8821|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'ScriptShoes.Application.Models.Shoe.CreateShoeDto' 
2023-10-14 16:26:13.8821|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.Shoe.CreateShoeDto'. 
2023-10-14 16:26:13.8821|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'dto' of type 'ScriptShoes.Application.Models.Shoe.CreateShoeDto'. 
2023-10-14 16:26:13.8821|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.Shoe.CreateShoeDto' ... 
2023-10-14 16:26:13.8821|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'dto' of type 'ScriptShoes.Application.Models.Shoe.CreateShoeDto'. 
2023-10-14 16:26:13.8821|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:26:13.8821|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:26:13.8821|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:26:13.8821|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:26:13.8821|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.ShoeController.CreateShoe (ScriptShoes.API) - Validation state: Valid 
2023-10-14 16:26:13.8821|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.ShoeController.CreateShoe (ScriptShoes.API) with arguments (ScriptShoes.Application.Models.Shoe.CreateShoeDto) 
2023-10-14 16:26:13.9501|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 16:26:13.9501|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Shoe>()
    .FirstOrDefault(s => s.ShoeName == __shoeName_0)' 
2023-10-14 16:26:13.9556|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Shoe>(
    asyncEnumerable: new SingleQueryingEnumerable<Shoe>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Shoe.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Shoe.AverageRating (float?), 1], [Property: Shoe.Brand (string) Required, 2], [Property: Shoe.Created (DateTime) Required, 3], [Property: Shoe.CurrentPrice (float) Required, 4], [Property: Shoe.Images (List<string>), 5], [Property: Shoe.LastModified (DateTime) Required, 6], [Property: Shoe.NumberOfReviews (int?), 7], [Property: Shoe.PriceBeforeDiscount (float?), 8], [Property: Shoe.ShoeName (string) Required, 9], [Property: Shoe.ShoeSizes (List<float>), 10], [Property: Shoe.ShoeType (string) Required, 11], [Property: Shoe.ThumbnailImage (string), 12], [Property: Shoe.UserId (int) Required FK Index, 13] }
            SELECT TOP(1) s.Id, s.AverageRating, s.Brand, s.Created, s.CurrentPrice, s.Images, s.LastModified, s.NumberOfReviews, s.PriceBeforeDiscount, s.ShoeName, s.ShoeSizes, s.ShoeType, s.ThumbnailImage, s.UserId
            FROM Shoes AS s
            WHERE s.ShoeName == @__shoeName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Shoe>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 16:26:13.9556|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 16:26:13.9556|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 16:26:13.9556|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-14 16:26:13.9556|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:26:13.9556|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 16:26:13.9556|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:26:13.9556|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:26:13.9556|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__shoeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."AverageRating", s."Brand", s."Created", s."CurrentPrice", s."Images", s."LastModified", s."NumberOfReviews", s."PriceBeforeDiscount", s."ShoeName", s."ShoeSizes", s."ShoeType", s."ThumbnailImage", s."UserId"
FROM "Shoes" AS s
WHERE s."ShoeName" = @__shoeName_0
LIMIT 1 
2023-10-14 16:26:13.9556|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__shoeName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."AverageRating", s."Brand", s."Created", s."CurrentPrice", s."Images", s."LastModified", s."NumberOfReviews", s."PriceBeforeDiscount", s."ShoeName", s."ShoeSizes", s."ShoeType", s."ThumbnailImage", s."UserId"
FROM "Shoes" AS s
WHERE s."ShoeName" = @__shoeName_0
LIMIT 1 
2023-10-14 16:26:13.9556|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:26:13.9556|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 16:26:13.9556|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 16:26:13.9556|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:26:13.9556|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:26:13.9556|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 16:26:13.9556|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:26:13.9556|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 16:26:13.9556|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.ShoeController.CreateShoe (ScriptShoes.API) in 113.0309ms 
2023-10-14 16:26:13.9556|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.ShoeController.CreateShoe (ScriptShoes.API)' 
2023-10-14 16:26:13.9556|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. FluentValidation.ValidationException: Validation failed: 
 -- Dto.ThumbnailImage.Length: 'Dto Thumbnail Image Length' must be less than '2'. Severity: Error
 -- Dto.CurrentPrice: 'Dto Current Price' must be greater than '0'. Severity: Error
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 26
   at ScriptShoes.API.Controllers.ShoeController.CreateShoe(CreateShoeDto dto) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\ShoeController.cs:line 31
   at lambda_method208(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 16:26:13.9854|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD56" completed keep alive response. 
2023-10-14 16:26:13.9854|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 16:26:13.9854|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 16:26:13.9854|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 16:26:13.9854|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/shoe/create application/json 194 - 500 - text/plain;+charset=utf-8 180.7647ms 
2023-10-14 16:26:31.9235|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 16:26:31.9235|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 16:26:31.9235|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD53" disconnecting. 
2023-10-14 16:26:31.9235|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD54" disconnecting. 
2023-10-14 16:26:31.9235|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD53" stopped. 
2023-10-14 16:26:31.9235|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD54" stopped. 
2023-10-14 16:26:31.9235|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD56" disconnecting. 
2023-10-14 16:26:31.9235|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCO5MGDD56" stopped. 
2023-10-14 16:26:31.9235|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO5MGDD54" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:26:31.9235|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO5MGDD53" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:26:31.9235|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCO5MGDD56" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 16:26:31.9235|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 17:43:10.1631|0|DEBUG|Program|init main 
2023-10-14 17:43:10.3074|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 17:43:10.3408|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 17:43:10.3408|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 17:43:10.3523|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 17:43:10.3523|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 17:43:10.3616|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 17:43:10.3616|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 17:43:10.3616|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 17:43:10.3616|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 17:43:10.3616|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 17:43:10.3616|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 17:43:10.3616|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 17:43:10.3616|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 17:43:10.4014|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 17:43:10.4014|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 17:43:10.4014|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 17:43:10.4014|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 17:43:10.4014|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 17:43:10.4014|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 17:43:10.5708|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCPH2FKK9A" received FIN. 
2023-10-14 17:43:10.5708|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9A" accepted. 
2023-10-14 17:43:10.5708|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9A" started. 
2023-10-14 17:43:10.5806|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCPH2FKK9A" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 17:43:10.5806|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9A" disconnecting. 
2023-10-14 17:43:10.5806|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9A" stopped. 
2023-10-14 17:43:10.6244|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9B" accepted. 
2023-10-14 17:43:10.6244|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9B" started. 
2023-10-14 17:43:10.6244|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9C" accepted. 
2023-10-14 17:43:10.6244|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9C" started. 
2023-10-14 17:43:10.6459|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 17:43:10.6459|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 17:43:10.6459|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 17:43:10.6695|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 17:43:10.6695|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 17:43:10.7491|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9B" completed keep alive response. 
2023-10-14 17:43:10.7491|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 106.5956ms 
2023-10-14 17:43:11.0824|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 17:43:11.0824|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 17:43:11.0824|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 17:43:11.0824|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 17:43:11.1589|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9B" completed keep alive response. 
2023-10-14 17:43:11.1589|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 76.7536ms 
2023-10-14 17:43:20.0628|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 17:43:20.0628|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 17:43:20.0663|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 17:43:20.0663|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 17:43:20.0663|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 17:43:20.0663|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 17:43:20.0663|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 17:43:20.0897|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 17:43:20.0897|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 17:43:20.0897|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 17:43:20.1098|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 17:43:20.1106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 17:43:20.1106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 17:43:20.1106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 17:43:20.1106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 17:43:20.1106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 17:43:20.1106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 17:43:20.1106|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 17:43:20.1106|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 17:43:20.1106|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 17:43:20.1106|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 17:43:20.1106|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 17:43:20.1106|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 17:43:20.1106|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 17:43:20.1106|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 17:43:20.1106|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 17:43:20.1106|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 17:43:20.1106|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 17:43:20.1106|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 17:43:20.1106|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 17:43:20.1106|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 17:43:20.1106|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 17:43:20.1106|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 17:43:20.1106|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 17:43:20.1106|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 17:43:20.1106|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 17:43:20.2200|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 17:43:20.8459|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 17:43:20.8923|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Role)
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 17:43:20.9407|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'User.Role'. 
2023-10-14 17:43:21.0665|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Role.Created (DateTime) Required, 17], [Property: Role.LastModified (DateTime) Required, 18], [Property: Role.Name (string) Required, 19] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username, r.Id, r.Created, r.LastModified, r.Name
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 17:43:21.0957|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 17:43:21.0957|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 17:43:21.1208|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-14 17:43:21.1208|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (28ms). 
2023-10-14 17:43:21.1296|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (34ms). 
2023-10-14 17:43:21.1296|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 17:43:21.2539|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:43:21.2539|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 17:43:21.3015|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (38ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 17:43:21.3331|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:43:21.3808|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:43:21.3808|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:43:21.3968|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:43:21.3968|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 99ms reading results. 
2023-10-14 17:43:21.4124|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:43:21.4124|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (5ms). 
2023-10-14 17:43:21.7182|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:43:21.7182|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 17:43:21.7340|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 17:43:21.7381|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-14 17:43:21.7381|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 17:43:21.7381|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 17:43:21.8046|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 17:43:21.8046|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:43:21.8046|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 17:43:21.8046|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 17:43:21.8046|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 17:43:21.8046|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 17:43:21.8292|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 17:43:21.8315|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:43:21.8315|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results. 
2023-10-14 17:43:21.8315|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:43:21.8315|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 17:43:21.8315|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:43:21.8315|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-14 17:43:21.8315|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:43:21.8315|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 17:43:21.8315|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 17:43:21.8315|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-14 17:43:21.8315|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 17:43:21.8315|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 17:43:21.8315|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 17:43:21.8315|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:43:21.8315|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 17:43:21.8315|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 17:43:21.8315|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 17:43:21.8315|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 17:43:21.8315|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 17:43:21.8315|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:43:21.8315|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 17:43:21.8315|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:43:21.8315|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 17:43:21.8315|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:43:21.8315|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-14 17:43:21.8315|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1715.2429ms. 
2023-10-14 17:43:21.8315|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 17:43:21.8315|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 17:43:21.8315|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 17:43:21.8315|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 17:43:21.8315|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 17:43:21.8315|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 17:43:21.8487|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 17:43:21.8487|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-14 17:43:21.8487|6|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'text/plain'. 
2023-10-14 17:43:21.8487|5|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Could not find an output formatter based on content negotiation. Accepted types were (text/plain) 
2023-10-14 17:43:21.8487|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2023-10-14 17:43:21.8487|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2023-10-14 17:43:21.8487|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-14 17:43:21.8487|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'ScriptShoes.Application.Models.User.LoginResponseDto'. 
2023-10-14 17:43:21.8662|11|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|Response is not cacheable because it does not contain the 'public' cache directive. 
2023-10-14 17:43:21.8662|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 17:43:21.8662|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 17:43:21.8662|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 17:43:21.8662|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 1756.4005ms 
2023-10-14 17:43:21.8662|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 17:43:21.8662|27|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The response could not be cached for this request. 
2023-10-14 17:43:21.8662|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9B" completed keep alive response. 
2023-10-14 17:43:21.8766|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 17:43:21.8766|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 17:43:21.8766|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 17:43:21.8766|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 200 - application/json;+charset=utf-8 1819.5385ms 
2023-10-14 17:43:55.8966|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 17:43:55.8966|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 17:43:55.8966|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9C" disconnecting. 
2023-10-14 17:43:55.8966|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9B" disconnecting. 
2023-10-14 17:43:55.8966|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9C" stopped. 
2023-10-14 17:43:55.8966|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPH2FKK9B" stopped. 
2023-10-14 17:43:55.8966|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCPH2FKK9C" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 17:43:55.8966|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCPH2FKK9B" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 17:43:55.8966|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 17:44:23.5676|0|DEBUG|Program|init main 
2023-10-14 17:44:23.7137|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 17:44:23.7473|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 17:44:23.7473|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 17:44:23.7593|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 17:44:23.7593|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 17:44:23.7593|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 17:44:23.7702|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 17:44:23.7702|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 17:44:23.7702|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 17:44:23.7702|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 17:44:23.7702|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 17:44:23.7702|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 17:44:23.7702|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 17:44:23.8072|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 17:44:23.8072|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 17:44:23.8072|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 17:44:23.8072|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 17:44:23.8072|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 17:44:23.8072|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 17:44:24.1831|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCPHODLAF5" received FIN. 
2023-10-14 17:44:24.1831|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF5" accepted. 
2023-10-14 17:44:24.1831|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF5" started. 
2023-10-14 17:44:24.1931|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCPHODLAF5" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 17:44:24.1931|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF5" disconnecting. 
2023-10-14 17:44:24.1931|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF5" stopped. 
2023-10-14 17:44:24.2554|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF6" accepted. 
2023-10-14 17:44:24.2554|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF6" started. 
2023-10-14 17:44:24.2554|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF7" accepted. 
2023-10-14 17:44:24.2554|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF7" started. 
2023-10-14 17:44:24.2843|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 17:44:24.2843|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 17:44:24.2843|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 17:44:24.3115|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 17:44:24.3115|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 17:44:24.4014|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF7" completed keep alive response. 
2023-10-14 17:44:24.4014|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 119.6592ms 
2023-10-14 17:44:24.7343|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 17:44:24.7343|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 17:44:24.7343|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 17:44:24.7343|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 17:44:24.8284|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF7" completed keep alive response. 
2023-10-14 17:44:24.8284|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.2818ms 
2023-10-14 17:44:37.2428|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 17:44:37.2428|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 17:44:37.2428|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 17:44:37.2428|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 17:44:37.2428|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 17:44:37.2428|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 17:44:37.2428|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 17:44:37.2690|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 17:44:37.2690|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 17:44:37.2690|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 17:44:37.2889|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 17:44:37.2889|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 17:44:37.2889|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 17:44:37.2889|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 17:44:37.2889|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 17:44:37.2889|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 17:44:37.2889|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 17:44:37.2889|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 17:44:37.2889|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 17:44:37.2889|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 17:44:37.2889|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 17:44:37.2889|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 17:44:37.2889|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 17:44:37.3014|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 17:44:37.3014|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 17:44:37.3014|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 17:44:37.3014|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 17:44:37.3014|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 17:44:37.3014|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 17:44:37.3014|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 17:44:37.3014|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 17:44:37.3014|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 17:44:37.3014|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 17:44:37.3014|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 17:44:37.3014|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 17:44:37.3014|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 17:44:37.3986|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 17:44:38.0133|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 17:44:38.0613|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Role)
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 17:44:38.1108|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'User.Role'. 
2023-10-14 17:44:38.2365|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Role.Created (DateTime) Required, 17], [Property: Role.LastModified (DateTime) Required, 18], [Property: Role.Name (string) Required, 19] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username, r.Id, r.Created, r.LastModified, r.Name
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 17:44:38.2654|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 17:44:38.2654|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 17:44:38.2906|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-14 17:44:38.2906|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (28ms). 
2023-10-14 17:44:38.2906|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (34ms). 
2023-10-14 17:44:38.3024|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 17:44:38.4212|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:44:38.4332|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 17:44:38.4680|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (38ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 17:44:38.4997|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:44:38.5481|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:44:38.5498|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:44:38.5498|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:44:38.5704|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 95ms reading results. 
2023-10-14 17:44:38.5704|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:44:38.5805|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 17:44:38.8669|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:44:38.8669|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 17:44:38.8832|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 17:44:38.8832|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-14 17:44:38.8832|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 17:44:38.8832|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 17:44:38.9535|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 17:44:38.9535|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:44:38.9535|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 17:44:38.9535|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 17:44:38.9535|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 17:44:38.9535|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 17:44:38.9711|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 17:44:38.9711|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:44:38.9711|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results. 
2023-10-14 17:44:38.9711|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:44:38.9711|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 17:44:38.9711|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:44:38.9711|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-14 17:44:38.9711|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:44:38.9711|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 17:44:38.9711|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 17:44:38.9711|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-14 17:44:38.9711|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 17:44:38.9711|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 17:44:38.9711|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 17:44:38.9711|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:44:38.9711|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 17:44:38.9711|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 17:44:38.9711|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 17:44:38.9711|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 17:44:38.9711|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 17:44:38.9711|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:44:38.9711|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 17:44:38.9711|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 17:44:38.9711|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 17:44:38.9711|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 17:44:38.9711|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-14 17:44:38.9890|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1680.0461ms. 
2023-10-14 17:44:38.9890|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 17:44:38.9890|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 17:44:38.9890|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 17:44:38.9890|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 17:44:38.9890|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 17:44:38.9890|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 17:44:38.9890|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 17:44:38.9890|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-14 17:44:38.9890|6|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'text/plain'. 
2023-10-14 17:44:38.9890|5|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Could not find an output formatter based on content negotiation. Accepted types were (text/plain) 
2023-10-14 17:44:38.9890|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2023-10-14 17:44:38.9890|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2023-10-14 17:44:38.9890|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-14 17:44:38.9890|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'ScriptShoes.Application.Models.User.LoginResponseDto'. 
2023-10-14 17:44:39.0086|11|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|Response is not cacheable because it does not contain the 'public' cache directive. 
2023-10-14 17:44:39.0086|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 17:44:39.0086|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 17:44:39.0086|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 17:44:39.0086|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 1719.9162ms 
2023-10-14 17:44:39.0086|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 17:44:39.0086|27|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The response could not be cached for this request. 
2023-10-14 17:44:39.0086|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF7" completed keep alive response. 
2023-10-14 17:44:39.0188|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 17:44:39.0188|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 17:44:39.0188|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 17:44:39.0188|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 200 - application/json;+charset=utf-8 1781.1583ms 
2023-10-14 17:45:34.3269|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCPHODLAF6" received FIN. 
2023-10-14 17:45:34.3269|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCPHODLAF6" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 17:45:34.3269|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF6" disconnecting. 
2023-10-14 17:45:34.3269|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF6" stopped. 
2023-10-14 17:46:50.7602|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF7" disconnecting. 
2023-10-14 17:46:50.7602|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCPHODLAF7" stopped. 
2023-10-14 17:46:50.7602|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCPHODLAF7" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 18:19:19.9110|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 18:19:19.9110|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 18:19:19.9110|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:00:14.1007|0|DEBUG|Program|init main 
2023-10-14 19:00:14.2557|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:00:14.2923|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:00:14.3093|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:00:14.3093|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:00:14.3164|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:00:14.3164|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:00:14.3164|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:00:14.3164|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:00:14.3164|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:00:14.3164|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:00:14.3164|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:00:14.3164|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:00:14.3164|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:00:14.3610|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:00:14.3610|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:00:14.3610|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:00:14.3610|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:00:14.3610|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:00:14.3610|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:00:14.7047|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQS4IQ9S1" received FIN. 
2023-10-14 19:00:14.7047|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S1" accepted. 
2023-10-14 19:00:14.7047|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S1" started. 
2023-10-14 19:00:14.7047|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQS4IQ9S1" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:00:14.7047|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S1" disconnecting. 
2023-10-14 19:00:14.7047|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S1" stopped. 
2023-10-14 19:00:14.7751|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S2" accepted. 
2023-10-14 19:00:14.7751|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S2" started. 
2023-10-14 19:00:14.7751|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S3" accepted. 
2023-10-14 19:00:14.7751|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S3" started. 
2023-10-14 19:00:14.8029|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:00:14.8029|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:00:14.8029|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:00:14.8263|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:00:14.8263|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:00:14.9244|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S2" completed keep alive response. 
2023-10-14 19:00:14.9244|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 124.6308ms 
2023-10-14 19:00:15.2923|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:00:15.2923|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:00:15.2923|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:00:15.2923|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:00:15.3759|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S2" completed keep alive response. 
2023-10-14 19:00:15.3759|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 83.8971ms 
2023-10-14 19:00:32.5228|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 19:00:32.5228|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:00:32.5228|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 19:00:32.5228|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 19:00:32.5228|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 19:00:32.5228|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:00:32.5228|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:00:32.5503|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:00:32.5503|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:00:32.5503|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 19:00:32.5692|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:00:32.5692|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:00:32.5692|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:00:32.5692|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:00:32.5692|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:00:32.5692|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:00:32.5692|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:00:32.5692|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:00:32.5692|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 19:00:32.5692|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 19:00:32.5692|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 19:00:32.5692|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 19:00:32.5692|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 19:00:32.5821|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 19:00:32.5821|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 19:00:32.5821|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 19:00:32.5821|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 19:00:32.5821|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 19:00:32.5821|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 19:00:32.5821|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 19:00:32.5821|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:00:32.5821|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:00:32.5821|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:00:32.5821|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:00:32.5821|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:00:32.5821|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 19:00:32.6798|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:00:33.3031|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:00:33.3502|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Role)
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 19:00:33.4004|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'User.Role'. 
2023-10-14 19:00:33.5297|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Role.Created (DateTime) Required, 17], [Property: Role.LastModified (DateTime) Required, 18], [Property: Role.Name (string) Required, 19] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username, r.Id, r.Created, r.LastModified, r.Name
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:00:33.5599|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:00:33.5599|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:00:33.5855|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-14 19:00:33.5855|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (28ms). 
2023-10-14 19:00:33.5855|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (35ms). 
2023-10-14 19:00:33.5976|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:00:33.7147|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:00:33.7265|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 19:00:33.7603|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (36ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 19:00:33.7903|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:00:33.8328|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:00:33.8328|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:00:33.8460|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:00:33.8460|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 87ms reading results. 
2023-10-14 19:00:33.8460|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:00:33.8635|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 19:00:34.1695|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:00:34.1695|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 19:00:34.1864|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 19:00:34.1908|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-14 19:00:34.1908|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 19:00:34.1908|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 19:00:34.2614|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:00:34.2614|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:00:34.2614|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:00:34.2614|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:00:34.2614|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:00:34.2614|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 19:00:34.2780|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 19:00:34.2780|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:00:34.2780|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results. 
2023-10-14 19:00:34.2780|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:00:34.2780|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 19:00:34.2839|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:00:34.2839|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-14 19:00:34.2839|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1699.8281ms. 
2023-10-14 19:00:34.2839|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:00:34.2839|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:00:34.2839|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:00:34.2839|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:00:34.2839|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:00:34.2839|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:00:34.2839|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 19:00:34.2839|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-14 19:00:34.2839|6|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'text/plain'. 
2023-10-14 19:00:34.2839|5|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Could not find an output formatter based on content negotiation. Accepted types were (text/plain) 
2023-10-14 19:00:34.2839|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2023-10-14 19:00:34.2839|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2023-10-14 19:00:34.2839|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-14 19:00:34.2839|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'ScriptShoes.Application.Models.User.LoginResponseDto'. 
2023-10-14 19:00:34.3091|11|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|Response is not cacheable because it does not contain the 'public' cache directive. 
2023-10-14 19:00:34.3091|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 19:00:34.3091|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:00:34.3091|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:00:34.3091|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 1739.6086ms 
2023-10-14 19:00:34.3136|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 19:00:34.3136|27|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The response could not be cached for this request. 
2023-10-14 19:00:34.3136|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S2" completed keep alive response. 
2023-10-14 19:00:34.3136|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:00:34.3136|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:00:34.3136|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 19:00:34.3136|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 200 - application/json;+charset=utf-8 1801.7996ms 
2023-10-14 19:00:43.4529|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc%2Fdr4anUP7s01b4BGVq7s%2FdWchYfUKYNiyerDgWKF0EskNg%3D%3D - - 
2023-10-14 19:00:43.4529|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:00:43.4529|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:00:43.4529|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:00:43.4529|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:00:43.4529|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:00:43.4550|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:00:43.4550|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=Role and Claim.Value is one of the following values: (User|Admin) 
2023-10-14 19:00:43.4550|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2023-10-14 19:00:43.4550|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S2" completed keep alive response. 
2023-10-14 19:00:43.4550|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc%2Fdr4anUP7s01b4BGVq7s%2FdWchYfUKYNiyerDgWKF0EskNg%3D%3D - - - 401 0 - 9.6601ms 
2023-10-14 19:01:27.3107|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQS4IQ9S3" received FIN. 
2023-10-14 19:01:27.3107|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQS4IQ9S3" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:01:27.3107|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S3" disconnecting. 
2023-10-14 19:01:27.3107|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S3" stopped. 
2023-10-14 19:01:39.3437|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S4" accepted. 
2023-10-14 19:01:39.3437|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S4" started. 
2023-10-14 19:01:39.3437|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQS4IQ9S4" received FIN. 
2023-10-14 19:01:39.3437|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S5" accepted. 
2023-10-14 19:01:39.3437|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQS4IQ9S4" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:01:39.3437|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S5" started. 
2023-10-14 19:01:39.3437|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S4" disconnecting. 
2023-10-14 19:01:39.3437|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S4" stopped. 
2023-10-14 19:01:39.3437|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/refreshToken?refreshToken=tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc/dr4anUP7s01b4BGVq7s/dWchYfUKYNiyerDgWKF0EskNg== application/json 194 
2023-10-14 19:01:39.3437|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:01:39.3437|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:01:39.3437|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint '405 HTTP Method Not Supported' 
2023-10-14 19:01:39.3437|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:01:39.3875|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2023-10-14 19:01:39.3875|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2023-10-14 19:01:39.3875|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-14 19:01:39.3875|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint '405 HTTP Method Not Supported' 
2023-10-14 19:01:39.3875|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint '405 HTTP Method Not Supported' 
2023-10-14 19:01:39.3875|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S5" completed keep alive response. 
2023-10-14 19:01:39.3875|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/refreshToken?refreshToken=tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc/dr4anUP7s01b4BGVq7s/dWchYfUKYNiyerDgWKF0EskNg== application/json 194 - 405 0 - 44.5609ms 
2023-10-14 19:01:39.3875|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCQS4IQ9S5", Request id "0HMUCQS4IQ9S5:00000001": started reading request body. 
2023-10-14 19:01:39.3875|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCQS4IQ9S5", Request id "0HMUCQS4IQ9S5:00000001": done reading request body. 
2023-10-14 19:01:43.7117|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc/dr4anUP7s01b4BGVq7s/dWchYfUKYNiyerDgWKF0EskNg== application/json 194 
2023-10-14 19:01:43.7117|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:01:43.7117|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:01:43.7117|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:01:43.7117|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:01:43.7117|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:01:43.7117|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2023-10-14 19:01:43.7117|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2023-10-14 19:01:43.7117|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-14 19:01:43.7117|2|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it contains an 'Authorization' header. 
2023-10-14 19:01:43.7117|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-14 19:01:43.7117|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:01:43.7117|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:01:43.7117|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:01:43.7117|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:01:43.7117|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:01:43.7117|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:01:43.7117|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:01:43.7117|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:01:43.7117|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:01:43.7229|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:01:43.7229|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:01:43.7229|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:01:43.7229|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:01:43.7229|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:01:43.7229|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:01:43.7229|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:01:43.7229|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:01:43.7229|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:01:43.7229|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:01:43.7229|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:01:43.7229|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc/dr4anUP7s01b4BGVq7s/dWchYfUKYNiyerDgWKF0EskNg==) 
2023-10-14 19:01:43.7376|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:01:43.7376|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .FirstOrDefault(x => x.Id == __id_0)' 
2023-10-14 19:01:43.7376|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:01:43.7376|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:01:43.7376|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:01:43.7376|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-14 19:01:43.7376|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:01:43.7376|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:01:43.7376|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:01:43.7376|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:01:43.7376|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-14 19:01:43.7376|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-14 19:01:43.7376|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:01:43.7376|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 19:01:43.7376|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:01:43.7376|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 19:01:43.7376|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:01:43.7376|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:01:43.7376|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:01:43.7376|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:01:43.7376|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 27.1962ms 
2023-10-14 19:01:43.7376|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:01:43.7376|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 28
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken, User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 84
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 25
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 49
   at lambda_method208(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:01:43.7733|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S5" completed keep alive response. 
2023-10-14 19:01:43.7733|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:01:43.7733|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:01:43.7733|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 19:01:43.7733|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc/dr4anUP7s01b4BGVq7s/dWchYfUKYNiyerDgWKF0EskNg== application/json 194 - 500 - text/plain;+charset=utf-8 61.8455ms 
2023-10-14 19:01:43.7733|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCQS4IQ9S5", Request id "0HMUCQS4IQ9S5:00000002": started reading request body. 
2023-10-14 19:01:43.7733|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HMUCQS4IQ9S5", Request id "0HMUCQS4IQ9S5:00000002": done reading request body. 
2023-10-14 19:02:03.4714|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:02:03.4714|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:02:03.4714|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S2" disconnecting. 
2023-10-14 19:02:03.4714|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S5" disconnecting. 
2023-10-14 19:02:03.4714|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S2" stopped. 
2023-10-14 19:02:03.4714|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQS4IQ9S5" stopped. 
2023-10-14 19:02:03.4714|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQS4IQ9S2" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:02:03.4714|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQS4IQ9S5" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:02:03.4714|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:06:51.3186|0|DEBUG|Program|init main 
2023-10-14 19:06:51.4744|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:06:51.5169|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:06:51.5254|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:06:51.5254|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:06:51.5254|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:06:51.5389|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:06:51.5389|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:06:51.5389|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:06:51.5389|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:06:51.5389|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:06:51.5389|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:06:51.5389|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:06:51.5389|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:06:51.5834|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:06:51.5873|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:06:51.5873|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:06:51.5873|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:06:51.5873|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:06:51.5873|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:06:51.9410|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQVQV56TH" received FIN. 
2023-10-14 19:06:51.9410|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TH" accepted. 
2023-10-14 19:06:51.9410|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TH" started. 
2023-10-14 19:06:51.9507|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQVQV56TH" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:06:51.9507|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TH" disconnecting. 
2023-10-14 19:06:51.9507|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TH" stopped. 
2023-10-14 19:06:52.0011|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TI" accepted. 
2023-10-14 19:06:52.0013|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TI" started. 
2023-10-14 19:06:52.0013|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TJ" accepted. 
2023-10-14 19:06:52.0013|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TJ" started. 
2023-10-14 19:06:52.0276|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:06:52.0276|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:06:52.0276|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:06:52.0533|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:06:52.0533|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:06:52.1620|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TI" completed keep alive response. 
2023-10-14 19:06:52.1620|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 138.5745ms 
2023-10-14 19:06:52.5443|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:06:52.5443|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:06:52.5443|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:06:52.5443|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:06:52.6438|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TI" completed keep alive response. 
2023-10-14 19:06:52.6438|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.6803ms 
2023-10-14 19:06:55.9772|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc%2Fdr4anUP7s01b4BGVq7s%2FdWchYfUKYNiyerDgWKF0EskNg%3D%3D - - 
2023-10-14 19:06:55.9772|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:06:55.9772|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:06:55.9772|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:06:55.9772|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:06:55.9772|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:06:55.9772|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:06:56.0044|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:06:56.0044|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=Role and Claim.Value is one of the following values: (User|Admin) 
2023-10-14 19:06:56.0044|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2023-10-14 19:06:56.0044|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TI" completed keep alive response. 
2023-10-14 19:06:56.0044|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc%2Fdr4anUP7s01b4BGVq7s%2FdWchYfUKYNiyerDgWKF0EskNg%3D%3D - - - 401 0 - 35.0781ms 
2023-10-14 19:07:06.6380|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:07:06.6380|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:07:06.6445|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TJ" disconnecting. 
2023-10-14 19:07:06.6445|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TI" disconnecting. 
2023-10-14 19:07:06.6445|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TI" stopped. 
2023-10-14 19:07:06.6445|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCQVQV56TJ" stopped. 
2023-10-14 19:07:06.6445|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQVQV56TI" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:07:06.6445|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCQVQV56TJ" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:07:06.6445|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:07:11.9924|0|DEBUG|Program|init main 
2023-10-14 19:07:12.1294|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:07:12.1589|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:07:12.1655|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:07:12.1655|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:07:12.1655|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:07:12.1778|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:07:12.1778|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:07:12.1778|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:07:12.1778|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:07:12.1778|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:07:12.1778|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:07:12.1778|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:07:12.1778|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:07:12.2135|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:07:12.2135|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:07:12.2135|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:07:12.2135|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:07:12.2135|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:07:12.2135|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:07:12.4665|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR012T36Q" received FIN. 
2023-10-14 19:07:12.4665|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36Q" accepted. 
2023-10-14 19:07:12.4665|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36Q" started. 
2023-10-14 19:07:12.4762|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR012T36Q" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:07:12.4762|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36Q" disconnecting. 
2023-10-14 19:07:12.4762|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36Q" stopped. 
2023-10-14 19:07:12.5237|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36R" accepted. 
2023-10-14 19:07:12.5237|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36R" started. 
2023-10-14 19:07:12.5237|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36S" accepted. 
2023-10-14 19:07:12.5237|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36S" started. 
2023-10-14 19:07:12.5481|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:07:12.5481|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:07:12.5481|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:07:12.5741|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:07:12.5741|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:07:12.6627|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36R" completed keep alive response. 
2023-10-14 19:07:12.6627|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 118.2817ms 
2023-10-14 19:07:13.0031|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:07:13.0031|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:07:13.0031|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:07:13.0031|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:07:13.0840|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36R" completed keep alive response. 
2023-10-14 19:07:13.0840|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 81.2852ms 
2023-10-14 19:07:17.4604|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc%2Fdr4anUP7s01b4BGVq7s%2FdWchYfUKYNiyerDgWKF0EskNg%3D%3D - - 
2023-10-14 19:07:17.4604|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:07:17.4604|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:07:17.4604|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:07:17.4604|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:07:17.4604|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:07:17.4604|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:07:17.4866|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:07:17.4866|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:07:17.4866|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:07:17.5063|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:07:17.5063|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:07:17.5063|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:07:17.5063|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:07:17.5063|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:07:17.5063|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:07:17.5063|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:07:17.5063|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:07:17.5063|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:07:17.5063|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:07:17.5063|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:07:17.5063|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:07:17.5063|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:07:17.5063|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:07:17.5207|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:07:17.5207|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:07:17.5207|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:07:17.5207|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:07:17.5207|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:07:17.5207|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc/dr4anUP7s01b4BGVq7s/dWchYfUKYNiyerDgWKF0EskNg==) 
2023-10-14 19:07:17.6148|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:07:18.2459|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:07:18.2747|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:07:18.4076|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:07:18.4405|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:07:18.4405|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:07:18.4668|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-14 19:07:18.4720|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2023-10-14 19:07:18.4720|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (36ms). 
2023-10-14 19:07:18.4720|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:07:18.5955|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:07:18.5955|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:07:18.6422|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:07:18.6727|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:07:18.7109|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:07:18.7109|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 70ms reading results. 
2023-10-14 19:07:18.7240|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:07:18.7240|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 19:07:18.7240|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:07:18.7240|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:07:18.7240|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:07:18.7240|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:07:18.7383|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 1227.7251ms 
2023-10-14 19:07:18.7383|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:07:18.7383|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 29
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 90
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 22
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 48
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:07:18.7750|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36R" completed keep alive response. 
2023-10-14 19:07:18.7750|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:07:18.7750|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:07:18.7750|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 19:07:18.7750|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=tbyQbM3mMHspgZSLKuBIC8s5Z4iiTS1NLowvg1Hc%2Fdr4anUP7s01b4BGVq7s%2FdWchYfUKYNiyerDgWKF0EskNg%3D%3D - - - 500 - text/plain;+charset=utf-8 1322.3597ms 
2023-10-14 19:08:28.8844|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR012T36S" received FIN. 
2023-10-14 19:08:28.8844|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR012T36S" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:08:28.8844|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36S" disconnecting. 
2023-10-14 19:08:28.8844|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36S" stopped. 
2023-10-14 19:09:30.1686|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36R" disconnecting. 
2023-10-14 19:09:30.1686|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR012T36R" stopped. 
2023-10-14 19:09:30.1686|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR012T36R" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:09:42.5478|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:09:42.5478|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:09:42.5478|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:09:45.5859|0|DEBUG|Program|init main 
2023-10-14 19:09:45.7341|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:09:45.7662|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:09:45.7733|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:09:45.7733|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:09:45.7733|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:09:45.7865|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:09:45.7865|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:09:45.7865|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:09:45.7865|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:09:45.7865|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:09:45.7865|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:09:45.7865|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:09:45.7865|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:09:45.8254|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:09:45.8254|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:09:45.8254|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:09:45.8254|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:09:45.8254|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:09:45.8254|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:09:46.1032|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR1ES38S2" received FIN. 
2023-10-14 19:09:46.1032|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S2" accepted. 
2023-10-14 19:09:46.1032|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S2" started. 
2023-10-14 19:09:46.1144|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR1ES38S2" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:09:46.1144|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S2" disconnecting. 
2023-10-14 19:09:46.1144|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S2" stopped. 
2023-10-14 19:09:46.1561|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S3" accepted. 
2023-10-14 19:09:46.1561|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S3" started. 
2023-10-14 19:09:46.1561|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S4" accepted. 
2023-10-14 19:09:46.1561|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S4" started. 
2023-10-14 19:09:46.1779|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:09:46.1779|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:09:46.1779|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:09:46.1993|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:09:46.1993|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:09:46.2787|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S3" completed keep alive response. 
2023-10-14 19:09:46.2787|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 103.6828ms 
2023-10-14 19:09:46.6181|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:09:46.6181|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:09:46.6181|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:09:46.6181|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:09:46.7039|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S3" completed keep alive response. 
2023-10-14 19:09:46.7042|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 86.1308ms 
2023-10-14 19:09:55.9474|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 19:09:55.9474|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:09:55.9474|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 19:09:55.9474|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 19:09:55.9474|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 19:09:55.9474|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:09:55.9474|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:09:55.9729|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:09:55.9729|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:09:55.9729|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 19:09:55.9925|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:09:55.9925|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:09:55.9925|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:09:55.9925|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:09:55.9925|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:09:55.9925|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:09:55.9925|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:09:55.9925|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:09:55.9925|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 19:09:55.9925|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 19:09:56.0018|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 19:09:56.0018|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 19:09:56.0018|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 19:09:56.0018|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 19:09:56.0018|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 19:09:56.0018|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 19:09:56.0018|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 19:09:56.0018|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 19:09:56.0018|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 19:09:56.0018|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 19:09:56.0018|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:09:56.0018|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:09:56.0018|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:09:56.0018|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:09:56.0018|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:09:56.0018|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 19:09:56.0985|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:09:56.7090|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:09:56.7554|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Role)
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 19:09:56.8060|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'User.Role'. 
2023-10-14 19:09:56.9328|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Role.Created (DateTime) Required, 17], [Property: Role.LastModified (DateTime) Required, 18], [Property: Role.Name (string) Required, 19] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username, r.Id, r.Created, r.LastModified, r.Name
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:09:56.9635|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:09:56.9635|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:09:56.9915|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (23ms). 
2023-10-14 19:09:56.9915|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (31ms). 
2023-10-14 19:09:57.0020|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (39ms). 
2023-10-14 19:09:57.0020|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:09:57.2342|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:09:57.2462|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 19:09:57.2815|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (38ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 19:09:57.3132|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:09:57.3569|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:09:57.3569|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:09:57.3700|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:09:57.3782|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 90ms reading results. 
2023-10-14 19:09:57.3782|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:09:57.3782|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 19:09:57.6848|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:09:57.6848|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 19:09:57.7013|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 19:09:57.7053|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-14 19:09:57.7053|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 19:09:57.7053|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 19:09:57.7754|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:09:57.7754|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:09:57.7754|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:09:57.7754|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:09:57.7754|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:09:57.7754|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 19:09:57.8005|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 19:09:57.8005|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:09:57.8005|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results. 
2023-10-14 19:09:57.8005|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:09:57.8005|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 19:09:57.8005|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:09:57.8005|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-14 19:09:57.8005|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1800.4341ms. 
2023-10-14 19:09:57.8005|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:09:57.8005|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:09:57.8142|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:09:57.8142|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:09:57.8142|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:09:57.8142|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:09:57.8142|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 19:09:57.8142|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-14 19:09:57.8142|6|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'text/plain'. 
2023-10-14 19:09:57.8142|5|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Could not find an output formatter based on content negotiation. Accepted types were (text/plain) 
2023-10-14 19:09:57.8142|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2023-10-14 19:09:57.8142|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2023-10-14 19:09:57.8142|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-14 19:09:57.8142|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'ScriptShoes.Application.Models.User.LoginResponseDto'. 
2023-10-14 19:09:57.8334|11|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|Response is not cacheable because it does not contain the 'public' cache directive. 
2023-10-14 19:09:57.8334|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 19:09:57.8334|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:09:57.8334|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:09:57.8334|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 1841.1594ms 
2023-10-14 19:09:57.8334|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 19:09:57.8334|27|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The response could not be cached for this request. 
2023-10-14 19:09:57.8334|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S3" completed keep alive response. 
2023-10-14 19:09:57.8334|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:09:57.8476|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:09:57.8476|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 19:09:57.8476|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 200 - application/json;+charset=utf-8 1902.3110ms 
2023-10-14 19:10:06.8468|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - 
2023-10-14 19:10:06.8468|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:10:06.8468|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:10:06.8468|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:10:06.8468|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:10:06.8468|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:10:06.8468|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:10:06.8468|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:10:06.8468|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:10:06.8468|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:10:06.8468|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:10:06.8468|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:10:06.8468|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:10:06.8468|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:10:06.8468|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:10:06.8468|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:10:06.8468|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:10:06.8468|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:10:06.8468|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:10:06.8468|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:10:06.8468|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:10:06.8468|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:10:06.8468|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:10:06.8468|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:10:06.8468|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:10:06.8468|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:10:06.8468|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:10:06.8468|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:10:06.8468|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (rmMbfd4Gq1c3OgAZ/V4+GQV7yPIwKO9Q2vgzx/ILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg==) 
2023-10-14 19:10:06.8703|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:10:06.8703|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:10:06.8703|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:10:06.8775|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:10:06.8775|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:10:06.8775|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-14 19:10:06.8775|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:10:06.8775|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:10:06.8775|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:10:06.8775|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:10:06.8775|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:10:06.8775|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:10:06.8775|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:10:06.8775|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:10:06.8775|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 19:10:06.8775|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:10:06.8775|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 19:10:06.8775|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:10:06.8775|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:10:06.8775|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:10:06.8775|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:10:06.8775|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 25.1557ms 
2023-10-14 19:10:06.8775|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:10:06.8775|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 29
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 92
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 22
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 48
   at lambda_method208(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:10:06.9058|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S3" completed keep alive response. 
2023-10-14 19:10:06.9058|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:10:06.9058|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:10:06.9058|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 19:10:06.9058|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - - 500 - text/plain;+charset=utf-8 59.3367ms 
2023-10-14 19:10:15.7769|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:10:15.7769|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:10:15.7830|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S4" disconnecting. 
2023-10-14 19:10:15.7830|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S3" disconnecting. 
2023-10-14 19:10:15.7830|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S4" stopped. 
2023-10-14 19:10:15.7830|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1ES38S3" stopped. 
2023-10-14 19:10:15.7830|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR1ES38S3" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:10:15.7830|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR1ES38S4" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:10:15.7830|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:10:34.3497|0|DEBUG|Program|init main 
2023-10-14 19:10:34.9512|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:10:35.0055|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:10:35.0256|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:10:35.0256|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:10:35.0360|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:10:35.0360|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:10:35.0360|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:10:35.0360|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:10:35.0360|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:10:35.0360|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:10:35.0512|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:10:35.0512|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:10:35.0512|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:10:35.1578|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:10:35.1612|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:10:35.1612|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:10:35.1612|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:10:35.1612|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:10:35.1612|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:10:35.3161|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR1THDR65" received FIN. 
2023-10-14 19:10:35.3161|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1THDR65" accepted. 
2023-10-14 19:10:35.3161|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1THDR65" started. 
2023-10-14 19:10:35.3306|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR1THDR65" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:10:35.3306|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1THDR65" disconnecting. 
2023-10-14 19:10:35.3306|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1THDR65" stopped. 
2023-10-14 19:10:35.4163|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1THDR66" accepted. 
2023-10-14 19:10:35.4163|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1THDR66" started. 
2023-10-14 19:10:35.4163|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1THDR67" accepted. 
2023-10-14 19:10:35.4163|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1THDR67" started. 
2023-10-14 19:10:35.4610|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:10:35.4610|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:10:35.4610|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:10:35.4874|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:10:35.4874|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:10:35.5966|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1THDR66" completed keep alive response. 
2023-10-14 19:10:35.5966|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 139.5270ms 
2023-10-14 19:10:35.9527|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:10:35.9527|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:10:35.9527|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:10:35.9527|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:10:36.0529|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1THDR66" completed keep alive response. 
2023-10-14 19:10:36.0529|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 100.3918ms 
2023-10-14 19:10:41.1519|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - 
2023-10-14 19:10:41.1519|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:10:41.1519|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:10:41.1580|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:10:41.1580|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:10:41.1580|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:10:41.1580|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:10:41.2162|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:10:41.2162|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:10:41.2270|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:10:41.2428|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:10:41.2428|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:10:41.2428|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:10:41.2428|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:10:41.2428|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:10:41.2428|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:10:41.2428|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:10:41.2428|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:10:41.2428|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:10:41.2539|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:10:41.2539|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:10:41.2539|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:10:41.2539|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:10:41.2539|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:10:41.2539|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:10:41.2539|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:10:41.2539|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:10:41.2539|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:10:41.2539|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:10:41.2539|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (rmMbfd4Gq1c3OgAZ/V4+GQV7yPIwKO9Q2vgzx/ILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg==) 
2023-10-14 19:10:41.3896|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:10:42.0450|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:10:42.0813|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:10:42.2249|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:10:42.2601|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:10:42.2601|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:10:42.2947|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (31ms). 
2023-10-14 19:10:42.3001|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (38ms). 
2023-10-14 19:10:42.3001|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (45ms). 
2023-10-14 19:10:42.3001|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:10:42.4519|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:10:42.4663|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:10:42.4999|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:10:42.5284|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:10:42.5577|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:10:42.5651|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 59ms reading results. 
2023-10-14 19:10:42.5651|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:10:42.5651|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (6ms). 
2023-10-14 19:11:17.2289|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:11:17.2289|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:11:17.2289|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:11:17.2289|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:11:17.2289|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 35986.5581ms 
2023-10-14 19:11:17.2289|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:11:17.2289|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 29
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 90
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 22
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 48
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:11:17.2665|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR1THDR66" completed keep alive response. 
2023-10-14 19:11:17.2665|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:11:17.2665|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:11:17.2722|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 19:11:17.2722|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - - 500 - text/plain;+charset=utf-8 36120.6550ms 
2023-10-14 19:11:34.5609|0|DEBUG|Program|init main 
2023-10-14 19:11:35.0135|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:11:35.0612|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:11:35.0801|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:11:35.0838|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:11:35.0838|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:11:35.0838|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:11:35.0838|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:11:35.0838|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:11:35.0838|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:11:35.0838|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:11:35.0838|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:11:35.0838|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:11:35.0838|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:11:35.1891|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:11:35.1924|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:11:35.1924|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:11:35.1924|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:11:35.1924|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:11:35.1924|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:11:35.4157|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR2FEIQF8" received FIN. 
2023-10-14 19:11:35.4157|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR2FEIQF8" accepted. 
2023-10-14 19:11:35.4157|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR2FEIQF8" started. 
2023-10-14 19:11:35.4157|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR2FEIQF8" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:11:35.4281|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR2FEIQF8" disconnecting. 
2023-10-14 19:11:35.4281|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR2FEIQF8" stopped. 
2023-10-14 19:11:35.4856|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR2FEIQF9" accepted. 
2023-10-14 19:11:35.4856|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR2FEIQF9" started. 
2023-10-14 19:11:35.4856|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR2FEIQFA" accepted. 
2023-10-14 19:11:35.4856|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR2FEIQFA" started. 
2023-10-14 19:11:35.5216|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:11:35.5216|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:11:35.5216|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:11:35.5446|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:11:35.5446|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:11:35.6390|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR2FEIQF9" completed keep alive response. 
2023-10-14 19:11:35.6390|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 119.9501ms 
2023-10-14 19:11:35.9764|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:11:35.9764|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:11:35.9764|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:11:35.9764|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:11:36.0641|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR2FEIQF9" completed keep alive response. 
2023-10-14 19:11:36.0641|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.9366ms 
2023-10-14 19:11:55.8766|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - 
2023-10-14 19:11:55.8766|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:11:55.8766|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:11:55.8766|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:11:55.8766|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:11:55.8766|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:11:55.8766|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:11:55.9363|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:11:55.9397|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:11:55.9397|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:11:55.9604|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:11:55.9604|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:11:55.9604|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:11:55.9604|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:11:55.9604|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:11:55.9604|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:11:55.9604|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:11:55.9604|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:11:55.9604|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:11:55.9705|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:11:55.9705|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:11:55.9705|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:11:55.9705|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:11:55.9705|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:11:55.9705|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:11:55.9705|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:11:55.9705|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:11:55.9705|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:11:55.9705|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:11:55.9705|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (rmMbfd4Gq1c3OgAZ/V4+GQV7yPIwKO9Q2vgzx/ILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg==) 
2023-10-14 19:11:56.1005|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:11:56.6581|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:11:56.6859|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:11:56.8130|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:11:56.8445|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:11:56.8465|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:11:56.8777|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (29ms). 
2023-10-14 19:11:56.8777|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (36ms). 
2023-10-14 19:11:56.8777|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (42ms). 
2023-10-14 19:11:56.8777|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:11:57.0218|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:11:57.0218|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:11:57.0616|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:11:57.0848|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:11:57.1104|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:11:57.1168|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 50ms reading results. 
2023-10-14 19:11:57.1168|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:11:57.1168|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (3ms). 
2023-10-14 19:12:13.3637|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:12:13.3637|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:12:13.3637|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:12:13.3637|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:12:13.3637|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 17403.9947ms 
2023-10-14 19:12:13.3637|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:12:13.3637|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 29
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 90
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 22
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 48
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:12:13.3998|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR2FEIQF9" completed keep alive response. 
2023-10-14 19:12:13.3998|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:12:13.3998|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:12:13.3998|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 19:12:13.3998|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - - 500 - text/plain;+charset=utf-8 17529.1123ms 
2023-10-14 19:12:48.1491|0|DEBUG|Program|init main 
2023-10-14 19:12:48.5998|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:12:48.6465|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:12:48.6673|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:12:48.6673|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:12:48.6673|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:12:48.6801|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:12:48.6801|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:12:48.6801|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:12:48.6801|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:12:48.6801|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:12:48.6801|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:12:48.6801|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:12:48.6801|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:12:48.7740|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:12:48.7740|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:12:48.7740|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:12:48.7740|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:12:48.7740|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:12:48.7740|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:12:49.0171|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR35CG601" received FIN. 
2023-10-14 19:12:49.0171|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR35CG601" accepted. 
2023-10-14 19:12:49.0171|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR35CG601" started. 
2023-10-14 19:12:49.0284|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR35CG601" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:12:49.0284|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR35CG601" disconnecting. 
2023-10-14 19:12:49.0284|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR35CG601" stopped. 
2023-10-14 19:12:49.0774|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR35CG602" accepted. 
2023-10-14 19:12:49.0774|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR35CG602" started. 
2023-10-14 19:12:49.0774|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR35CG603" accepted. 
2023-10-14 19:12:49.0774|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR35CG603" started. 
2023-10-14 19:12:49.1157|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:12:49.1157|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:12:49.1157|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:12:49.1393|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:12:49.1393|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:12:49.2387|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR35CG602" completed keep alive response. 
2023-10-14 19:12:49.2387|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 126.2153ms 
2023-10-14 19:12:49.5805|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:12:49.5805|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:12:49.5805|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:12:49.5805|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:12:49.6781|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR35CG602" completed keep alive response. 
2023-10-14 19:12:49.6781|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 97.7245ms 
2023-10-14 19:12:54.2957|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - 
2023-10-14 19:12:54.2957|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:12:54.2996|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:12:54.2996|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:12:54.2996|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:12:54.2996|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:12:54.2996|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:12:54.3505|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:12:54.3505|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:12:54.3505|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:12:54.3742|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:12:54.3742|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:12:54.3742|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:12:54.3742|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:12:54.3742|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:12:54.3742|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:12:54.3742|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:12:54.3765|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:12:54.3765|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:12:54.3765|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:12:54.3765|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:12:54.3765|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:12:54.3765|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:12:54.3765|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:12:54.3765|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:12:54.3765|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:12:54.3765|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:12:54.3765|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:12:54.3919|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:12:54.3919|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (rmMbfd4Gq1c3OgAZ/V4+GQV7yPIwKO9Q2vgzx/ILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg==) 
2023-10-14 19:12:54.5138|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:12:55.0796|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:12:55.1083|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:12:55.2415|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:12:55.2725|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:12:55.2725|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:12:55.3038|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (27ms). 
2023-10-14 19:12:55.3038|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (34ms). 
2023-10-14 19:12:55.3038|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (39ms). 
2023-10-14 19:12:55.3145|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:12:55.4462|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:12:55.4566|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:12:55.4861|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:12:55.5097|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:12:55.5337|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:12:55.5337|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 49ms reading results. 
2023-10-14 19:12:55.5337|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:12:55.5337|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (3ms). 
2023-10-14 19:13:33.5203|0|DEBUG|Program|init main 
2023-10-14 19:13:33.6569|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:13:33.6875|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:13:33.6943|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:13:33.6943|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:13:33.6943|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:13:33.7069|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:13:33.7069|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:13:33.7069|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:13:33.7069|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:13:33.7069|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:13:33.7069|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:13:33.7069|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:13:33.7069|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:13:33.7429|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:13:33.7429|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:13:33.7429|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:13:33.7429|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:13:33.7429|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:13:33.7429|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:13:34.0700|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR3IQ57IA" received FIN. 
2023-10-14 19:13:34.0700|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IA" accepted. 
2023-10-14 19:13:34.0700|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IA" started. 
2023-10-14 19:13:34.0700|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR3IQ57IA" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:13:34.0700|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IA" disconnecting. 
2023-10-14 19:13:34.0820|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IA" stopped. 
2023-10-14 19:13:34.1307|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IB" accepted. 
2023-10-14 19:13:34.1307|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IB" started. 
2023-10-14 19:13:34.1307|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IC" accepted. 
2023-10-14 19:13:34.1307|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IC" started. 
2023-10-14 19:13:34.1589|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:13:34.1589|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:13:34.1589|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:13:34.1839|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:13:34.1839|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:13:34.2785|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IB" completed keep alive response. 
2023-10-14 19:13:34.2785|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 121.9605ms 
2023-10-14 19:13:34.6275|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:13:34.6275|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:13:34.6275|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:13:34.6275|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:13:34.7293|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IB" completed keep alive response. 
2023-10-14 19:13:34.7293|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.0770ms 
2023-10-14 19:13:38.7524|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - 
2023-10-14 19:13:38.7524|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:13:38.7524|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:13:38.7524|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:13:38.7524|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:13:38.7524|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:13:38.7524|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:13:38.7791|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:13:38.7791|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:13:38.7791|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:13:38.7980|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:13:38.7980|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:13:38.7980|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:13:38.7980|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:13:38.7980|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:13:38.7980|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:13:38.7980|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:13:38.7980|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:13:38.8050|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:13:38.8050|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:13:38.8050|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:13:38.8050|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:13:38.8050|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:13:38.8050|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:13:38.8050|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:13:38.8050|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:13:38.8050|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:13:38.8050|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:13:38.8050|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:13:38.8050|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (rmMbfd4Gq1c3OgAZ/V4+GQV7yPIwKO9Q2vgzx/ILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg==) 
2023-10-14 19:13:38.9045|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:13:39.5339|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:13:39.5627|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:13:39.6901|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:13:39.7220|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:13:39.7220|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:13:39.7487|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-14 19:13:39.7539|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (30ms). 
2023-10-14 19:13:39.7539|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (36ms). 
2023-10-14 19:13:39.7539|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:13:39.8813|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:13:39.8931|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:13:39.9272|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (36ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:13:39.9579|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:13:39.9970|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:13:40.0051|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 71ms reading results. 
2023-10-14 19:13:40.0051|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:13:40.0051|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 19:13:40.0193|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:13:40.0193|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:13:40.0193|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:13:40.0193|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:13:40.0193|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 1222.0849ms 
2023-10-14 19:13:40.0193|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:13:40.0193|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 31
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 94
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 22
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 48
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:13:40.0448|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IB" completed keep alive response. 
2023-10-14 19:13:40.0448|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:13:40.0509|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:13:40.0509|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (2ms). 
2023-10-14 19:13:40.0509|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - - 500 - text/plain;+charset=utf-8 1301.9930ms 
2023-10-14 19:14:03.1257|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:14:03.1265|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:14:03.1265|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IB" disconnecting. 
2023-10-14 19:14:03.1265|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IC" disconnecting. 
2023-10-14 19:14:03.1265|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IC" stopped. 
2023-10-14 19:14:03.1265|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3IQ57IB" stopped. 
2023-10-14 19:14:03.1265|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR3IQ57IC" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:14:03.1265|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR3IQ57IB" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:14:03.1265|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:14:08.2437|0|DEBUG|Program|init main 
2023-10-14 19:14:08.3813|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:14:08.4111|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:14:08.4111|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:14:08.4111|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:14:08.4249|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:14:08.4249|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:14:08.4249|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:14:08.4249|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:14:08.4249|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:14:08.4249|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:14:08.4249|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:14:08.4249|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:14:08.4249|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:14:08.4679|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:14:08.4710|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:14:08.4710|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:14:08.4710|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:14:08.4710|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:14:08.4710|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:14:08.7637|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR3T50SR9" received FIN. 
2023-10-14 19:14:08.7637|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SR9" accepted. 
2023-10-14 19:14:08.7637|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SR9" started. 
2023-10-14 19:14:08.7736|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR3T50SR9" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:14:08.7736|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SR9" disconnecting. 
2023-10-14 19:14:08.7736|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SR9" stopped. 
2023-10-14 19:14:08.8273|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SRA" accepted. 
2023-10-14 19:14:08.8273|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SRA" started. 
2023-10-14 19:14:08.8273|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SRB" accepted. 
2023-10-14 19:14:08.8273|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SRB" started. 
2023-10-14 19:14:08.8523|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:14:08.8523|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:14:08.8523|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:14:08.8768|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:14:08.8768|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:14:08.9703|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SRA" completed keep alive response. 
2023-10-14 19:14:08.9717|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 120.9521ms 
2023-10-14 19:14:09.3078|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:14:09.3078|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:14:09.3078|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:14:09.3078|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:14:09.3947|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SRA" completed keep alive response. 
2023-10-14 19:14:09.3947|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.1360ms 
2023-10-14 19:14:12.8503|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - 
2023-10-14 19:14:12.8503|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:14:12.8539|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:14:12.8539|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:14:12.8539|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:14:12.8539|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:14:12.8539|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:14:12.8774|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:14:12.8774|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:14:12.8821|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:14:12.8974|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:14:12.8974|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:14:12.8974|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:14:12.8974|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:14:12.8974|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:14:12.8974|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:14:12.8974|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:14:12.8974|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:14:12.8974|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:14:12.8974|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:14:12.8974|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:14:12.8974|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:14:12.8974|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:14:12.8974|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:14:12.9120|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:14:12.9120|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:14:12.9120|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:14:12.9120|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:14:12.9120|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:14:12.9120|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (rmMbfd4Gq1c3OgAZ/V4+GQV7yPIwKO9Q2vgzx/ILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg==) 
2023-10-14 19:14:13.0060|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:14:13.6262|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:14:13.6556|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:14:13.7823|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:14:13.8161|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:14:13.8161|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:14:13.8414|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-14 19:14:13.8468|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2023-10-14 19:14:13.8468|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (35ms). 
2023-10-14 19:14:13.8468|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:14:13.9696|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:14:13.9821|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:14:14.0167|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:14:14.0480|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:14:14.0870|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:14:14.0952|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 72ms reading results. 
2023-10-14 19:14:14.0952|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:14:14.0952|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 19:14:14.0952|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:14:14.0952|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:14:14.0952|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:14:14.0952|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:14:14.1144|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 1213.0619ms 
2023-10-14 19:14:14.1144|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:14:14.1144|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 31
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 94
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 22
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 48
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:14:14.1348|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SRA" completed keep alive response. 
2023-10-14 19:14:14.1348|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:14:14.1348|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:14:14.1423|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 19:14:14.1423|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - - 500 - text/plain;+charset=utf-8 1292.5289ms 
2023-10-14 19:14:54.9612|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:14:54.9612|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:14:54.9612|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SRA" disconnecting. 
2023-10-14 19:14:54.9612|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SRB" disconnecting. 
2023-10-14 19:14:54.9612|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SRB" stopped. 
2023-10-14 19:14:54.9612|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR3T50SRA" stopped. 
2023-10-14 19:14:54.9612|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR3T50SRA" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:14:54.9612|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR3T50SRB" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:14:54.9722|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:15:00.0684|0|DEBUG|Program|init main 
2023-10-14 19:15:00.2173|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:15:00.2510|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:15:00.2510|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:15:00.2510|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:15:00.2510|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:15:00.2704|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:15:00.2704|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:15:00.2704|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:15:00.2704|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:15:00.2704|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:15:00.2704|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:15:00.2704|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:15:00.2704|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:15:00.3047|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:15:00.3047|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:15:00.3047|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:15:00.3047|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:15:00.3047|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:15:00.3047|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:15:00.5535|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR4CITSMB" received FIN. 
2023-10-14 19:15:00.5535|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMB" accepted. 
2023-10-14 19:15:00.5535|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMB" started. 
2023-10-14 19:15:00.5535|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR4CITSMB" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:15:00.5535|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMB" disconnecting. 
2023-10-14 19:15:00.5663|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMB" stopped. 
2023-10-14 19:15:00.6224|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMC" accepted. 
2023-10-14 19:15:00.6224|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMC" started. 
2023-10-14 19:15:00.6224|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMD" accepted. 
2023-10-14 19:15:00.6224|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMD" started. 
2023-10-14 19:15:00.6548|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:15:00.6548|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:15:00.6548|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:15:00.6844|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:15:00.6844|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:15:00.7852|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMC" completed keep alive response. 
2023-10-14 19:15:00.7852|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 133.8735ms 
2023-10-14 19:15:01.1115|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:15:01.1115|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:15:01.1115|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:15:01.1115|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:15:01.1936|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMC" completed keep alive response. 
2023-10-14 19:15:01.1936|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 82.3771ms 
2023-10-14 19:15:06.5671|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - 
2023-10-14 19:15:06.5671|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:15:06.5671|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:15:06.5671|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:15:06.5671|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:15:06.5671|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:15:06.5671|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:15:06.5946|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:15:06.5980|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:15:06.5980|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:15:06.6143|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:15:06.6143|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:15:06.6143|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:15:06.6143|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:15:06.6143|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:15:06.6143|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:15:06.6143|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:15:06.6143|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:15:06.6143|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:15:06.6143|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:15:06.6143|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:15:06.6143|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:15:06.6143|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:15:06.6277|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:15:06.6277|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:15:06.6277|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:15:06.6277|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:15:06.6277|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:15:06.6277|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:15:06.6277|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (rmMbfd4Gq1c3OgAZ/V4+GQV7yPIwKO9Q2vgzx/ILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg==) 
2023-10-14 19:15:06.7298|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:15:07.3595|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:15:07.3901|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:15:07.5231|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:15:07.5559|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:15:07.5559|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:15:07.5821|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-14 19:15:07.5821|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2023-10-14 19:15:07.5821|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (36ms). 
2023-10-14 19:15:07.5821|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:15:07.8236|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:15:07.8358|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:15:07.8715|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (38ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:15:07.9030|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:15:07.9420|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:15:07.9420|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 72ms reading results. 
2023-10-14 19:15:07.9547|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:15:07.9547|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 19:15:07.9547|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:15:07.9547|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:15:07.9547|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:15:07.9547|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:15:07.9547|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 1350.4603ms 
2023-10-14 19:15:07.9547|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:15:07.9733|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 29
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 90
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 22
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 48
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:15:07.9907|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMC" completed keep alive response. 
2023-10-14 19:15:07.9907|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:15:07.9907|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:15:07.9907|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 19:15:07.9907|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - - 500 - text/plain;+charset=utf-8 1431.5074ms 
2023-10-14 19:16:17.7275|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR4CITSMD" received FIN. 
2023-10-14 19:16:17.7275|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR4CITSMD" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:16:17.7275|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMD" disconnecting. 
2023-10-14 19:16:17.7275|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMD" stopped. 
2023-10-14 19:16:46.3184|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:16:46.3184|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:16:46.3184|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMC" disconnecting. 
2023-10-14 19:16:46.3184|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR4CITSMC" stopped. 
2023-10-14 19:16:46.3184|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR4CITSMC" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:16:46.3184|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:17:01.7538|0|DEBUG|Program|init main 
2023-10-14 19:17:01.8876|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:17:01.9161|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:17:01.9161|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:17:01.9261|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:17:01.9261|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:17:01.9261|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:17:01.9261|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:17:01.9261|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:17:01.9261|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:17:01.9388|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:17:01.9388|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:17:01.9388|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:17:01.9388|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:17:01.9684|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:17:01.9714|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:17:01.9714|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:17:01.9714|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:17:01.9714|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:17:01.9714|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:17:02.2848|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR5GRRB14" received FIN. 
2023-10-14 19:17:02.2848|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB14" accepted. 
2023-10-14 19:17:02.2887|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB14" started. 
2023-10-14 19:17:02.2887|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR5GRRB14" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:17:02.2887|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB14" disconnecting. 
2023-10-14 19:17:02.2887|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB14" stopped. 
2023-10-14 19:17:02.3513|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB15" accepted. 
2023-10-14 19:17:02.3513|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB15" started. 
2023-10-14 19:17:02.3513|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB16" accepted. 
2023-10-14 19:17:02.3513|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB16" started. 
2023-10-14 19:17:02.3803|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:17:02.3803|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:17:02.3803|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:17:02.3999|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:17:02.3999|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:17:02.4987|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB15" completed keep alive response. 
2023-10-14 19:17:02.4987|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 121.0876ms 
2023-10-14 19:17:02.8819|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:17:02.8819|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:17:02.8819|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:17:02.8819|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:17:02.9610|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB15" completed keep alive response. 
2023-10-14 19:17:02.9610|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 79.3439ms 
2023-10-14 19:17:11.9921|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - 
2023-10-14 19:17:11.9921|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:17:11.9921|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:17:11.9921|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:17:11.9921|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:17:11.9921|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:17:11.9921|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:17:12.0182|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:17:12.0182|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:17:12.0182|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:17:12.0379|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:17:12.0379|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:17:12.0379|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:17:12.0379|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:17:12.0379|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:17:12.0379|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:17:12.0379|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:17:12.0379|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:17:12.0379|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:17:12.0379|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:17:12.0379|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:17:12.0379|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:17:12.0379|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:17:12.0507|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:17:12.0507|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:17:12.0507|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:17:12.0507|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:17:12.0507|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:17:12.0507|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:17:12.0507|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (rmMbfd4Gq1c3OgAZ/V4+GQV7yPIwKO9Q2vgzx/ILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg==) 
2023-10-14 19:17:12.1475|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:17:12.7748|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:17:12.8029|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:17:12.9317|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:17:12.9635|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:17:12.9635|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:17:12.9888|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-14 19:17:12.9888|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (28ms). 
2023-10-14 19:17:12.9888|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (34ms). 
2023-10-14 19:17:12.9888|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:17:13.1180|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:17:13.1302|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:17:13.1641|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:17:13.1954|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:17:13.2342|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:17:13.2421|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 72ms reading results. 
2023-10-14 19:17:13.2421|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:17:13.2519|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 19:17:13.2519|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:17:13.2519|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:17:13.2519|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:17:13.2519|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:17:13.2519|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 1219.2497ms 
2023-10-14 19:17:13.2519|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:17:13.2519|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 29
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 90
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 22
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 48
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:17:13.2815|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB15" completed keep alive response. 
2023-10-14 19:17:13.2838|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:17:13.2838|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:17:13.2838|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 19:17:13.2838|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - - 500 - text/plain;+charset=utf-8 1297.2508ms 
2023-10-14 19:17:34.9613|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:17:34.9613|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:17:34.9613|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB15" disconnecting. 
2023-10-14 19:17:34.9613|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB16" disconnecting. 
2023-10-14 19:17:34.9613|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB15" stopped. 
2023-10-14 19:17:34.9613|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5GRRB16" stopped. 
2023-10-14 19:17:34.9613|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR5GRRB15" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:17:34.9613|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR5GRRB16" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:17:34.9713|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:17:40.1148|0|DEBUG|Program|init main 
2023-10-14 19:17:40.2421|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:17:40.2724|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:17:40.2724|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:17:40.2724|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:17:40.2724|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:17:40.2920|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:17:40.2920|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:17:40.2920|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:17:40.2920|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:17:40.2920|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:17:40.2920|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:17:40.2920|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:17:40.2981|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:17:40.3269|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:17:40.3269|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:17:40.3269|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:17:40.3269|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:17:40.3269|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:17:40.3269|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:17:40.5478|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR5S8O9TF" received FIN. 
2023-10-14 19:17:40.5509|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TF" accepted. 
2023-10-14 19:17:40.5509|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TF" started. 
2023-10-14 19:17:40.5509|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR5S8O9TF" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:17:40.5509|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TF" disconnecting. 
2023-10-14 19:17:40.5509|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TF" stopped. 
2023-10-14 19:17:40.6066|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TG" accepted. 
2023-10-14 19:17:40.6066|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TG" started. 
2023-10-14 19:17:40.6066|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TH" accepted. 
2023-10-14 19:17:40.6066|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TH" started. 
2023-10-14 19:17:40.6326|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:17:40.6326|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:17:40.6326|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:17:40.6518|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:17:40.6518|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:17:40.7472|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TG" completed keep alive response. 
2023-10-14 19:17:40.7472|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 116.9992ms 
2023-10-14 19:17:41.1133|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:17:41.1133|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:17:41.1133|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:17:41.1133|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:17:41.2066|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TG" completed keep alive response. 
2023-10-14 19:17:41.2066|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 93.5136ms 
2023-10-14 19:17:47.0691|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - 
2023-10-14 19:17:47.0691|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:17:47.0691|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:17:47.0691|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:17:47.0691|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:17:47.0691|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:17:47.0691|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:17:47.0960|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:17:47.0960|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:17:47.0960|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:17:47.1168|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:17:47.1168|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:17:47.1168|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:17:47.1168|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:17:47.1168|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:17:47.1168|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:17:47.1168|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:17:47.1168|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:17:47.1168|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:17:47.1261|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:17:47.1261|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:17:47.1261|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:17:47.1261|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:17:47.1261|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:17:47.1261|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:17:47.1261|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:17:47.1261|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:17:47.1261|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:17:47.1261|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:17:47.1261|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (rmMbfd4Gq1c3OgAZ/V4+GQV7yPIwKO9Q2vgzx/ILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg==) 
2023-10-14 19:17:47.2305|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:17:47.8644|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:17:47.8933|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:17:48.0243|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:17:48.0567|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:17:48.0567|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:17:48.0820|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-14 19:17:48.0820|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (28ms). 
2023-10-14 19:17:48.0820|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (35ms). 
2023-10-14 19:17:48.0820|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:17:48.2136|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:17:48.2254|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:17:48.2593|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (36ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:17:48.2897|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:17:48.3275|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:17:48.3357|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 70ms reading results. 
2023-10-14 19:17:48.3357|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:17:48.3452|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 19:17:48.3452|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:17:48.3452|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:17:48.3452|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:17:48.3452|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:17:48.3452|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 1233.7339ms 
2023-10-14 19:17:48.3452|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:17:48.3452|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 29
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 92
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 22
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 48
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:17:48.3746|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TG" completed keep alive response. 
2023-10-14 19:17:48.3769|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:17:48.3769|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:17:48.3769|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (2ms). 
2023-10-14 19:17:48.3769|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=rmMbfd4Gq1c3OgAZ%2FV4%2BGQV7yPIwKO9Q2vgzx%2FILd0nCKu7b5jkViufzocs9RnGEkIaZFHtY8GJ9ZhVuXMzijg%3D%3D - - - 500 - text/plain;+charset=utf-8 1313.7020ms 
2023-10-14 19:18:37.9866|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:18:37.9866|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:18:37.9866|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TG" disconnecting. 
2023-10-14 19:18:37.9866|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TH" disconnecting. 
2023-10-14 19:18:37.9866|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TG" stopped. 
2023-10-14 19:18:37.9866|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR5S8O9TH" stopped. 
2023-10-14 19:18:37.9866|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR5S8O9TH" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:18:37.9866|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR5S8O9TG" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:18:37.9866|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:18:43.5969|0|DEBUG|Program|init main 
2023-10-14 19:18:43.7233|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:18:43.7515|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:18:43.7515|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:18:43.7515|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:18:43.7515|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:18:43.7700|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:18:43.7700|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:18:43.7700|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:18:43.7700|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:18:43.7700|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:18:43.7700|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:18:43.7700|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:18:43.7700|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:18:43.8035|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:18:43.8035|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:18:43.8035|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:18:43.8035|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:18:43.8035|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:18:43.8035|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:18:44.1194|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR6F70PER" received FIN. 
2023-10-14 19:18:44.1194|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PER" accepted. 
2023-10-14 19:18:44.1194|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PER" started. 
2023-10-14 19:18:44.1296|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR6F70PER" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:18:44.1296|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PER" disconnecting. 
2023-10-14 19:18:44.1296|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PER" stopped. 
2023-10-14 19:18:44.1772|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PES" accepted. 
2023-10-14 19:18:44.1772|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PES" started. 
2023-10-14 19:18:44.1772|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PET" accepted. 
2023-10-14 19:18:44.1772|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PET" started. 
2023-10-14 19:18:44.2020|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:18:44.2020|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:18:44.2020|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:18:44.2241|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:18:44.2244|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:18:44.3222|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PES" completed keep alive response. 
2023-10-14 19:18:44.3222|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 122.4148ms 
2023-10-14 19:18:44.6876|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:18:44.6876|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:18:44.6876|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:18:44.6876|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:18:44.7707|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PES" completed keep alive response. 
2023-10-14 19:18:44.7707|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 83.2232ms 
2023-10-14 19:19:08.6460|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - 
2023-10-14 19:19:08.6460|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:19:08.6460|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-14 19:19:08.6460|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-14 19:19:08.6460|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 19:19:08.6460|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:19:08.6460|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:19:08.6727|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:19:08.6727|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:19:08.6727|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 19:19:08.6918|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:19:08.6918|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:19:08.6918|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:19:08.6918|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:19:08.6918|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:19:08.6918|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:19:08.6918|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:19:08.6918|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:19:08.6918|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-14 19:19:08.6918|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-14 19:19:08.6918|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 19:19:08.6918|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-14 19:19:08.6918|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-14 19:19:08.7048|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-14 19:19:08.7048|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-14 19:19:08.7048|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-14 19:19:08.7048|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 19:19:08.7048|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-14 19:19:08.7048|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-14 19:19:08.7048|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-14 19:19:08.7048|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:19:08.7048|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:19:08.7048|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:19:08.7048|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:19:08.7048|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:19:08.7048|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (kuba@gmail.com, Kuba123!) 
2023-10-14 19:19:08.8029|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:19:09.4207|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:19:09.4699|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Role)
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-14 19:19:09.5176|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'User.Role'. 
2023-10-14 19:19:09.6395|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Role.Created (DateTime) Required, 17], [Property: Role.LastModified (DateTime) Required, 18], [Property: Role.Name (string) Required, 19] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username, r.Id, r.Created, r.LastModified, r.Name
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:19:09.6691|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:19:09.6691|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:19:09.6958|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-14 19:19:09.6958|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2023-10-14 19:19:09.6958|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (35ms). 
2023-10-14 19:19:09.7079|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:19:09.8222|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:19:09.8340|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 19:19:09.8678|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (36ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-14 19:19:09.9007|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:19:09.9465|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:19:09.9465|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:19:09.9596|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:19:09.9596|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 93ms reading results. 
2023-10-14 19:19:09.9724|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:19:09.9724|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 19:19:10.2602|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:19:10.2602|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 19:19:10.2760|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 19:19:10.2760|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-14 19:19:10.2760|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-14 19:19:10.2760|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-14 19:19:10.3470|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:19:10.3470|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:19:10.3470|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:19:10.3470|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:19:10.3470|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:19:10.3470|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 19:19:10.3712|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[@p15='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Single), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p14='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AccessToken" = @p0, "AccessTokenExpirationTime" = @p1, "AvailableFounds" = @p2, "Created" = @p3, "Email" = @p4, "FirsName" = @p5, "HashedPassword" = @p6, "IsVerified" = @p7, "LastModified" = @p8, "LastName" = @p9, "ProfilePictureUrl" = @p10, "RefreshToken" = @p11, "RefreshTokenExpirationTime" = @p12, "RoleId" = @p13, "Username" = @p14
WHERE "Id" = @p15; 
2023-10-14 19:19:10.3712|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:19:10.3712|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results. 
2023-10-14 19:19:10.3712|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:19:10.3712|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 19:19:10.3771|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:19:10.3771|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-14 19:19:10.3771|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1671.4775ms. 
2023-10-14 19:19:10.3771|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:19:10.3771|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:19:10.3771|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:19:10.3771|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:19:10.3771|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:19:10.3771|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:19:10.3771|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 19:19:10.3771|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-14 19:19:10.3771|6|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'text/plain'. 
2023-10-14 19:19:10.3771|5|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Could not find an output formatter based on content negotiation. Accepted types were (text/plain) 
2023-10-14 19:19:10.3771|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2023-10-14 19:19:10.3771|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2023-10-14 19:19:10.3771|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-14 19:19:10.3922|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'ScriptShoes.Application.Models.User.LoginResponseDto'. 
2023-10-14 19:19:10.3922|11|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|Response is not cacheable because it does not contain the 'public' cache directive. 
2023-10-14 19:19:10.3922|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 19:19:10.3922|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:19:10.3922|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:19:10.4089|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 1712.8101ms 
2023-10-14 19:19:10.4089|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-14 19:19:10.4089|27|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The response could not be cached for this request. 
2023-10-14 19:19:10.4089|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PES" completed keep alive response. 
2023-10-14 19:19:10.4089|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:19:10.4089|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:19:10.4089|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 19:19:10.4089|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=kuba%40gmail.com&password=Kuba123%21 - - - 200 - application/json;+charset=utf-8 1775.1967ms 
2023-10-14 19:19:34.3279|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=wlQ55Q%2BUJbJWfXE53KaeEjfK5EBo7A0ABUNpka7q3C8RwgQxeM98HrL%2FGu1SMG1y%2Bg2dXB%2FpydLg91WBg8N7Xg%3D%3D - - 
2023-10-14 19:19:34.3279|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:19:34.3279|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:19:34.3279|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:19:34.3279|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:19:34.3279|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:19:34.3279|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:19:34.3279|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:19:34.3279|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:19:34.3360|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:19:34.3360|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:19:34.3360|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:19:34.3360|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:19:34.3360|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:19:34.3360|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:19:34.3360|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:19:34.3360|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:19:34.3360|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:19:34.3360|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:19:34.3360|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:19:34.3360|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:19:34.3360|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:19:34.3360|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:19:34.3360|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:19:34.3360|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:19:34.3360|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:19:34.3360|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:19:34.3360|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:19:34.3360|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (wlQ55Q+UJbJWfXE53KaeEjfK5EBo7A0ABUNpka7q3C8RwgQxeM98HrL/Gu1SMG1y+g2dXB/pydLg91WBg8N7Xg==) 
2023-10-14 19:19:34.3500|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:19:34.3500|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:19:34.3500|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:19:34.3500|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:19:34.3500|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:19:34.3500|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-14 19:19:34.3500|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:19:34.3500|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-14 19:19:34.3500|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:19:34.3500|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:19:34.3500|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:19:34.3500|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:19:34.3500|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:19:34.3500|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:19:34.3500|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-14 19:19:34.3500|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:19:34.3500|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 19:19:34.3500|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:19:34.3500|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:19:34.3500|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:19:34.3500|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:19:34.3500|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 23.4176ms 
2023-10-14 19:19:34.3500|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:19:34.3500|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 31
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 94
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 22
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 48
   at lambda_method208(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:19:34.3762|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PES" completed keep alive response. 
2023-10-14 19:19:34.3762|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:19:34.3762|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:19:34.3762|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-14 19:19:34.3762|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=wlQ55Q%2BUJbJWfXE53KaeEjfK5EBo7A0ABUNpka7q3C8RwgQxeM98HrL%2FGu1SMG1y%2Bg2dXB%2FpydLg91WBg8N7Xg%3D%3D - - - 500 - text/plain;+charset=utf-8 48.6200ms 
2023-10-14 19:20:07.1780|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR6F70PET" received FIN. 
2023-10-14 19:20:07.1780|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR6F70PET" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:20:07.1780|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PET" disconnecting. 
2023-10-14 19:20:07.1780|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PET" stopped. 
2023-10-14 19:20:35.0303|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:20:35.0303|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:20:35.0354|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PES" disconnecting. 
2023-10-14 19:20:35.0354|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR6F70PES" stopped. 
2023-10-14 19:20:35.0354|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR6F70PES" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:20:35.0354|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:21:11.1946|0|DEBUG|Program|init main 
2023-10-14 19:21:11.3651|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:21:11.3994|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:21:11.4075|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:21:11.4075|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:21:11.4075|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:21:11.4244|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:21:11.4244|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:21:11.4244|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:21:11.4244|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:21:11.4244|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:21:11.4244|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:21:11.4244|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:21:11.4244|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:21:11.4634|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:21:11.4634|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:21:11.4634|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:21:11.4634|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:21:11.4634|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:21:11.4634|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:21:11.9132|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR7R8FSUD" received FIN. 
2023-10-14 19:21:11.9132|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUD" accepted. 
2023-10-14 19:21:11.9132|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUD" started. 
2023-10-14 19:21:11.9132|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR7R8FSUD" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:21:11.9237|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUD" disconnecting. 
2023-10-14 19:21:11.9237|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUD" stopped. 
2023-10-14 19:21:11.9615|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUE" accepted. 
2023-10-14 19:21:11.9615|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUE" started. 
2023-10-14 19:21:11.9615|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUF" accepted. 
2023-10-14 19:21:11.9615|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUF" started. 
2023-10-14 19:21:11.9807|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:21:11.9807|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:21:11.9807|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:21:12.0011|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:21:12.0011|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:21:12.0844|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUE" completed keep alive response. 
2023-10-14 19:21:12.0844|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 106.0193ms 
2023-10-14 19:21:12.4298|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:21:12.4298|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:21:12.4298|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:21:12.4298|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:21:12.5132|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUE" completed keep alive response. 
2023-10-14 19:21:12.5132|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 83.7070ms 
2023-10-14 19:21:16.2264|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=wlQ55Q%2BUJbJWfXE53KaeEjfK5EBo7A0ABUNpka7q3C8RwgQxeM98HrL%2FGu1SMG1y%2Bg2dXB%2FpydLg91WBg8N7Xg%3D%3D - - 
2023-10-14 19:21:16.2264|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:21:16.2264|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:21:16.2264|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:21:16.2264|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:21:16.2264|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:21:16.2264|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:21:16.2531|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:21:16.2531|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:21:16.2531|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:21:16.2732|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:21:16.2732|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:21:16.2732|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:21:16.2732|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:21:16.2732|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:21:16.2732|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:21:16.2732|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:21:16.2732|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:21:16.2732|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:21:16.2827|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:21:16.2827|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:21:16.2827|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:21:16.2827|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:21:16.2827|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:21:16.2827|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:21:16.2827|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:21:16.2827|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:21:16.2827|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:21:16.2827|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:21:16.2827|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (wlQ55Q+UJbJWfXE53KaeEjfK5EBo7A0ABUNpka7q3C8RwgQxeM98HrL/Gu1SMG1y+g2dXB/pydLg91WBg8N7Xg==) 
2023-10-14 19:21:16.3840|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:21:17.0181|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:21:17.0474|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:21:17.1820|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:21:17.2170|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:21:17.2170|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:21:17.2433|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2023-10-14 19:21:17.2433|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (30ms). 
2023-10-14 19:21:17.2533|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (37ms). 
2023-10-14 19:21:17.2533|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:21:17.3761|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:21:17.3880|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:21:17.4221|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:21:17.4525|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:21:17.4914|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:21:17.4914|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 71ms reading results. 
2023-10-14 19:21:17.5044|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:21:17.5044|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-14 19:21:17.5044|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:21:17.5044|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:21:17.5044|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:21:17.5044|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:21:17.5192|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 1241.5706ms 
2023-10-14 19:21:17.5192|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:21:17.5192|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. System.NullReferenceException: Object reference not set to an instance of an object.
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.CreateAccessToken(User& user) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 31
   at ScriptShoes.Infrastructure.AuthenticationTokens.TokenMethods.RefreshAccessToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Infrastructure\AuthenticationTokens\TokenMethods.cs:line 94
   at ScriptShoes.Application.Features.User.Queries.RefreshToken.RefreshTokenQueryHandler.Handle(RefreshTokenQuery request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Queries\RefreshToken\RefreshTokenQueryHandler.cs:line 22
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.RefreshToken(String refreshToken) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 48
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-14 19:21:17.5405|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUE" completed keep alive response. 
2023-10-14 19:21:17.5405|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:21:17.5405|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:21:17.5482|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 19:21:17.5482|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=wlQ55Q%2BUJbJWfXE53KaeEjfK5EBo7A0ABUNpka7q3C8RwgQxeM98HrL%2FGu1SMG1y%2Bg2dXB%2FpydLg91WBg8N7Xg%3D%3D - - - 500 - text/plain;+charset=utf-8 1322.3287ms 
2023-10-14 19:21:37.4754|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:21:37.4754|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:21:37.4754|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUF" disconnecting. 
2023-10-14 19:21:37.4754|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUE" disconnecting. 
2023-10-14 19:21:37.4754|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUF" stopped. 
2023-10-14 19:21:37.4754|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR7R8FSUE" stopped. 
2023-10-14 19:21:37.4754|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR7R8FSUF" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:21:37.4754|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR7R8FSUE" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:21:37.4861|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:22:43.2295|0|DEBUG|Program|init main 
2023-10-14 19:22:43.4085|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-14 19:22:43.4452|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-14 19:22:43.4452|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-14 19:22:43.4571|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-14 19:22:43.4571|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-14 19:22:43.4571|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-14 19:22:43.4571|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:22:43.4571|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-14 19:22:43.4706|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-14 19:22:43.4706|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-14 19:22:43.4706|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-14 19:22:43.4706|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-14 19:22:43.4706|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-14 19:22:43.5107|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-14 19:22:43.5107|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-14 19:22:43.5107|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-14 19:22:43.5107|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-14 19:22:43.5107|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-14 19:22:43.5107|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-14 19:22:43.5224|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR8MI4PN3" received FIN. 
2023-10-14 19:22:43.5224|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN3" accepted. 
2023-10-14 19:22:43.5224|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN3" started. 
2023-10-14 19:22:43.5335|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR8MI4PN3" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:22:43.5335|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN3" disconnecting. 
2023-10-14 19:22:43.5335|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN3" stopped. 
2023-10-14 19:22:43.5879|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN4" accepted. 
2023-10-14 19:22:43.5879|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN4" started. 
2023-10-14 19:22:43.5879|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN5" accepted. 
2023-10-14 19:22:43.5879|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN5" started. 
2023-10-14 19:22:43.6138|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-14 19:22:43.6138|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-14 19:22:43.6138|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:22:43.6545|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-14 19:22:43.6545|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:22:43.7632|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN4" completed keep alive response. 
2023-10-14 19:22:43.7632|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 153.0311ms 
2023-10-14 19:22:44.1361|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-14 19:22:44.1361|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:22:44.1361|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-14 19:22:44.1361|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-14 19:22:44.2468|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN4" completed keep alive response. 
2023-10-14 19:22:44.2468|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.9830ms 
2023-10-14 19:22:49.4072|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=wlQ55Q%2BUJbJWfXE53KaeEjfK5EBo7A0ABUNpka7q3C8RwgQxeM98HrL%2FGu1SMG1y%2Bg2dXB%2FpydLg91WBg8N7Xg%3D%3D - - 
2023-10-14 19:22:49.4073|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-14 19:22:49.4073|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/refreshToken' 
2023-10-14 19:22:49.4073|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' with route pattern 'api/user/refreshToken' is valid for the request path '/api/user/refreshToken' 
2023-10-14 19:22:49.4073|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:22:49.4073|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-14 19:22:49.4073|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-14 19:22:49.4358|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-14 19:22:49.4394|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-14 19:22:49.4394|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:22:49.4572|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "RefreshToken", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.Token.AccessToken]] RefreshToken(System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-14 19:22:49.4572|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-14 19:22:49.4572|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-14 19:22:49.4572|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-14 19:22:49.4572|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-14 19:22:49.4572|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-14 19:22:49.4572|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:22:49.4572|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-14 19:22:49.4572|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:22:49.4572|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'refreshToken' of type 'System.String' using the name 'refreshToken' in request data ... 
2023-10-14 19:22:49.4572|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:22:49.4572|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:22:49.4572|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ... 
2023-10-14 19:22:49.4713|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'. 
2023-10-14 19:22:49.4713|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:22:49.4713|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:22:49.4713|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:22:49.4713|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:22:49.4713|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) - Validation state: Valid 
2023-10-14 19:22:49.4713|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) with arguments (wlQ55Q+UJbJWfXE53KaeEjfK5EBo7A0ABUNpka7q3C8RwgQxeM98HrL/Gu1SMG1y+g2dXB/pydLg91WBg8N7Xg==) 
2023-10-14 19:22:49.5799|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-14 19:22:50.2249|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-14 19:22:50.2728|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Role)
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)' 
2023-10-14 19:22:50.3227|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'User.Role'. 
2023-10-14 19:22:50.4466|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessToken (string), 1], [Property: User.AccessTokenExpirationTime (DateTime) Required, 2], [Property: User.AvailableFounds (float) Required, 3], [Property: User.Created (DateTime) Required, 4], [Property: User.Email (string) Required, 5], [Property: User.FirsName (string) Required, 6], [Property: User.HashedPassword (string) Required, 7], [Property: User.IsVerified (bool) Required, 8], [Property: User.LastModified (DateTime) Required, 9], [Property: User.LastName (string) Required, 10], [Property: User.ProfilePictureUrl (string) Required, 11], [Property: User.RefreshToken (string), 12], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 13], [Property: User.RoleId (int) Required FK Index, 14], [Property: User.Username (string) Required, 15] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Role.Created (DateTime) Required, 17], [Property: Role.LastModified (DateTime) Required, 18], [Property: Role.Name (string) Required, 19] }
            SELECT TOP(1) u.Id, u.AccessToken, u.AccessTokenExpirationTime, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username, r.Id, r.Created, r.LastModified, r.Name
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-14 19:22:50.4787|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-14 19:22:50.4787|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-14 19:22:50.5047|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-14 19:22:50.5047|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2023-10-14 19:22:50.5047|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (35ms). 
2023-10-14 19:22:50.5168|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:22:50.6357|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:22:50.6492|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:22:50.6870|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (42ms) [Parameters=[@__refreshToken_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessToken", u."AccessTokenExpirationTime", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1 
2023-10-14 19:22:50.7174|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:22:50.7626|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:22:50.7626|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-14 19:22:50.7756|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:22:50.7834|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 90ms reading results. 
2023-10-14 19:22:50.7834|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-14 19:22:50.7834|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (5ms). 
2023-10-14 19:22:50.8783|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1399.1261ms. 
2023-10-14 19:22:50.8783|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:22:50.8783|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-14 19:22:50.8783|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:22:50.8783|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-14 19:22:50.8783|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:22:50.8783|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:22:50.8783|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 19:22:50.8783|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-14 19:22:50.8783|6|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'text/plain'. 
2023-10-14 19:22:50.8783|5|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Could not find an output formatter based on content negotiation. Accepted types were (text/plain) 
2023-10-14 19:22:50.8783|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2023-10-14 19:22:50.8783|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2023-10-14 19:22:50.8783|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-14 19:22:50.8783|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'ScriptShoes.Application.Models.Token.AccessToken'. 
2023-10-14 19:22:50.8977|11|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|Response is not cacheable because it does not contain the 'public' cache directive. 
2023-10-14 19:22:50.8977|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-14 19:22:50.8977|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:22:50.8977|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-14 19:22:50.8977|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API) in 1440.7605ms 
2023-10-14 19:22:50.8977|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.RefreshToken (ScriptShoes.API)' 
2023-10-14 19:22:50.8977|27|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The response could not be cached for this request. 
2023-10-14 19:22:50.8977|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN4" completed keep alive response. 
2023-10-14 19:22:50.9086|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-14 19:22:50.9086|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-14 19:22:50.9086|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-14 19:22:50.9086|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/refreshToken?refreshToken=wlQ55Q%2BUJbJWfXE53KaeEjfK5EBo7A0ABUNpka7q3C8RwgQxeM98HrL%2FGu1SMG1y%2Bg2dXB%2FpydLg91WBg8N7Xg%3D%3D - - - 200 - application/json;+charset=utf-8 1507.1392ms 
2023-10-14 19:24:55.5037|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN5" disconnecting. 
2023-10-14 19:24:55.5037|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN5" stopped. 
2023-10-14 19:24:55.5037|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR8MI4PN5" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:25:02.5507|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN4" disconnecting. 
2023-10-14 19:25:02.5507|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUCR8MI4PN4" stopped. 
2023-10-14 19:25:02.5507|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUCR8MI4PN4" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-14 19:39:40.1195|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-14 19:39:40.1195|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-14 19:39:40.1195|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-14 19:50:35.2204|0|DEBUG|Program|init main 
2023-10-14 19:50:35.6900|0|ERROR|Program|Stopped program because of exception Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Program.cs:line 53
2023-10-14 19:50:55.7552|0|DEBUG|Program|init main 
2023-10-14 19:50:55.8629|0|ERROR|Program|Stopped program because of exception Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\rider-projects\ScriptShoes\ScriptShoes.API\Program.cs:line 53
