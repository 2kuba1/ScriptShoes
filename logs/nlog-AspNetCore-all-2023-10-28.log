2023-10-28 11:53:21.8829|0|DEBUG|Program|init main 
2023-10-28 11:53:23.6947|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-28 11:53:23.8050|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-28 11:53:23.8468|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-28 11:53:23.8468|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-28 11:53:23.8623|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-28 11:53:23.8623|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-28 11:53:23.8623|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-28 11:53:23.8623|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-28 11:53:23.8623|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-28 11:53:23.8623|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-28 11:53:23.8623|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-28 11:53:23.8623|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-28 11:53:23.8623|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-28 11:53:24.1474|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-28 11:53:24.1474|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-28 11:53:24.1474|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-28 11:53:24.1474|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-28 11:53:24.1474|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-28 11:53:24.1474|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-28 11:53:24.1902|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH72" accepted. 
2023-10-28 11:53:24.1902|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH72" started. 
2023-10-28 11:53:24.1902|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH73" accepted. 
2023-10-28 11:53:24.1902|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH73" started. 
2023-10-28 11:53:24.2339|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-28 11:53:24.2339|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-28 11:53:24.2339|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 11:53:24.2524|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-28 11:53:24.2524|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-28 11:53:24.3902|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH73" completed keep alive response. 
2023-10-28 11:53:24.3902|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 158.4480ms 
2023-10-28 11:53:24.4357|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH74" accepted. 
2023-10-28 11:53:24.4357|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH74" started. 
2023-10-28 11:53:24.5284|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-28 11:53:24.5284|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 11:53:24.5284|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-28 11:53:24.5284|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-28 11:53:24.6224|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH73" completed keep alive response. 
2023-10-28 11:53:24.6224|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.1263ms 
2023-10-28 11:54:42.2148|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNJESUEH72" received FIN. 
2023-10-28 11:54:42.2148|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNJESUEH74" received FIN. 
2023-10-28 11:54:42.2148|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNJESUEH72" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 11:54:42.2148|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNJESUEH74" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 11:54:42.2148|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH72" disconnecting. 
2023-10-28 11:54:42.2148|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH74" disconnecting. 
2023-10-28 11:54:42.2247|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH72" stopped. 
2023-10-28 11:54:42.2247|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH74" stopped. 
2023-10-28 11:55:35.3629|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH73" disconnecting. 
2023-10-28 11:55:35.3629|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNJESUEH73" stopped. 
2023-10-28 11:55:35.3629|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNJESUEH73" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 11:58:07.3368|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-28 11:58:07.3368|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-28 11:58:07.3368|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-28 14:40:29.3366|0|DEBUG|Program|init main 
2023-10-28 14:40:29.4520|0|ERROR|Program|Stopped program because of exception System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ScriptShoes.Application.Features.User.Commands.SendVerificationEmail.SendVerificationEmailCommand,MediatR.Unit] Lifetime: Transient ImplementationType: ScriptShoes.Application.Features.User.Commands.SendVerificationEmail.SendVerificationEmailCommandHandler': Unable to resolve service for type 'ScriptShoes.Application.Contracts.Persistence.IEmailCodesRepository' while attempting to activate 'ScriptShoes.Application.Features.User.Commands.SendVerificationEmail.SendVerificationEmailCommandHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'ScriptShoes.Application.Contracts.Persistence.IEmailCodesRepository' while attempting to activate 'ScriptShoes.Application.Features.User.Commands.SendVerificationEmail.SendVerificationEmailCommandHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
2023-10-28 14:41:28.5075|0|DEBUG|Program|init main 
2023-10-28 14:41:28.6529|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-28 14:41:28.6885|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-28 14:41:28.6958|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-28 14:41:28.6958|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-28 14:41:28.6958|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-28 14:41:28.7096|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-28 14:41:28.7096|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-28 14:41:28.7096|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-28 14:41:28.7096|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-28 14:41:28.7096|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-28 14:41:28.7096|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-28 14:41:28.7096|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-28 14:41:28.7096|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-28 14:41:28.7807|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-28 14:41:28.7838|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-28 14:41:28.7838|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-28 14:41:28.7838|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-28 14:41:28.7838|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-28 14:41:28.7838|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-28 14:41:28.9139|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMCQDRUQH" received FIN. 
2023-10-28 14:41:28.9139|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQH" accepted. 
2023-10-28 14:41:28.9139|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQH" started. 
2023-10-28 14:41:28.9139|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMCQDRUQH" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:41:28.9247|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQH" disconnecting. 
2023-10-28 14:41:28.9247|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQH" stopped. 
2023-10-28 14:41:28.9769|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQI" accepted. 
2023-10-28 14:41:28.9769|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQI" started. 
2023-10-28 14:41:28.9769|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQJ" accepted. 
2023-10-28 14:41:28.9769|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQJ" started. 
2023-10-28 14:41:29.0530|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-28 14:41:29.0530|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-28 14:41:29.0530|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:41:29.0836|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-28 14:41:29.0836|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-28 14:41:29.1724|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQI" completed keep alive response. 
2023-10-28 14:41:29.1724|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 123.4673ms 
2023-10-28 14:41:29.2899|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-28 14:41:29.2899|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:41:29.2899|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-28 14:41:29.2899|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-28 14:41:29.2899|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/favicon-32x32.png - - 
2023-10-28 14:41:29.2899|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:41:29.2899|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/favicon-32x32.png' 
2023-10-28 14:41:29.2899|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-28 14:41:29.3130|0|TRACE|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Range header's value is empty. 
2023-10-28 14:41:29.3186|2|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A' 
2023-10-28 14:41:29.3186|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQJ" completed keep alive response. 
2023-10-28 14:41:29.3186|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/favicon-32x32.png - - - 200 628 image/png 21.1371ms 
2023-10-28 14:41:29.3828|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQI" completed keep alive response. 
2023-10-28 14:41:29.3828|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 92.9287ms 
2023-10-28 14:43:40.0486|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQI" disconnecting. 
2023-10-28 14:43:40.0486|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQJ" disconnecting. 
2023-10-28 14:43:40.0498|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQI" stopped. 
2023-10-28 14:43:40.0498|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQJ" stopped. 
2023-10-28 14:43:40.0498|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMCQDRUQI" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:43:40.0498|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMCQDRUQJ" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:43:49.3361|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQK" accepted. 
2023-10-28 14:43:49.3361|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQK" started. 
2023-10-28 14:43:49.3361|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/api/user/login?email=2kubaa1%40gmail.com&password=Kuba123%21 - - 
2023-10-28 14:43:49.3361|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:43:49.3361|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/login' 
2023-10-28 14:43:49.3361|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' with route pattern 'api/user/login' is valid for the request path '/api/user/login' 
2023-10-28 14:43:49.3361|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-28 14:43:49.3361|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-28 14:43:49.3361|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-28 14:43:49.8265|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2023-10-28 14:43:49.8331|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/login has been invoked 
2023-10-28 14:43:49.8331|24|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|No cached response available for this request. 
2023-10-28 14:43:49.8616|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-28 14:43:49.8916|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ScriptShoes.Application.Models.User.LoginResponseDto]] Login(System.String, System.String) on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-28 14:43:49.8916|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-28 14:43:49.8916|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-28 14:43:49.8916|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-28 14:43:49.8916|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-28 14:43:49.8916|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-28 14:43:49.8941|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:43:49.8941|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:43:49.8941|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2023-10-28 14:43:49.8941|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2023-10-28 14:43:49.8941|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-28 14:43:49.8941|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2023-10-28 14:43:49.8941|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2023-10-28 14:43:49.9112|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2023-10-28 14:43:49.9112|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'password' of type 'System.String' ... 
2023-10-28 14:43:49.9112|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ... 
2023-10-28 14:43:49.9112|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-28 14:43:49.9112|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'password' of type 'System.String'. 
2023-10-28 14:43:49.9112|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'password' of type 'System.String' ... 
2023-10-28 14:43:49.9112|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'password' of type 'System.String'. 
2023-10-28 14:43:49.9112|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:43:49.9112|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:43:49.9112|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:43:49.9112|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:43:49.9112|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) - Validation state: Valid 
2023-10-28 14:43:49.9112|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) with arguments (2kubaa1@gmail.com, Kuba123!) 
2023-10-28 14:43:50.4870|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-28 14:43:51.2740|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-28 14:43:51.3498|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Role)
    .FirstOrDefault(x => x.Email == __email_0)' 
2023-10-28 14:43:51.4044|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'User.Role'. 
2023-10-28 14:43:51.5513|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AvailableFounds (float) Required, 1], [Property: User.Created (DateTime) Required, 2], [Property: User.Email (string) Required, 3], [Property: User.FirsName (string) Required, 4], [Property: User.HashedPassword (string) Required, 5], [Property: User.IsVerified (bool) Required, 6], [Property: User.LastModified (DateTime) Required, 7], [Property: User.LastName (string) Required, 8], [Property: User.ProfilePictureUrl (string) Required, 9], [Property: User.RefreshToken (string), 10], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 11], [Property: User.RoleId (int) Required FK Index, 12], [Property: User.Username (string) Required, 13] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: Role.Created (DateTime) Required, 15], [Property: Role.LastModified (DateTime) Required, 16], [Property: Role.Name (string) Required, 17] }
            SELECT TOP(1) u.Id, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username, r.Id, r.Created, r.LastModified, r.Name
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-28 14:43:51.5899|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:43:51.5899|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-28 14:43:51.6413|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (47ms). 
2023-10-28 14:43:51.6485|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (58ms). 
2023-10-28 14:43:51.6485|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (65ms). 
2023-10-28 14:43:51.6485|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:43:51.8460|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:43:51.8615|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-28 14:43:51.9015|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (43ms) [Parameters=[@__email_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username", r."Id", r."Created", r."LastModified", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0
LIMIT 1 
2023-10-28 14:43:51.9336|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:43:51.9739|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:43:51.9739|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:43:51.9739|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:43:51.9933|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 85ms reading results. 
2023-10-28 14:43:51.9933|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:43:52.0027|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-28 14:43:52.4773|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:43:52.4773|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-28 14:43:52.4928|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-28 14:43:52.4928|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-28 14:43:52.4928|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-28 14:43:52.4928|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-28 14:43:52.5618|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:43:52.5618|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:43:52.5618|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:43:52.5618|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:43:52.5618|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:43:52.5618|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p13='?' (DbType = Int32), @p0='?' (DbType = Single), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AvailableFounds" = @p0, "Created" = @p1, "Email" = @p2, "FirsName" = @p3, "HashedPassword" = @p4, "IsVerified" = @p5, "LastModified" = @p6, "LastName" = @p7, "ProfilePictureUrl" = @p8, "RefreshToken" = @p9, "RefreshTokenExpirationTime" = @p10, "RoleId" = @p11, "Username" = @p12
WHERE "Id" = @p13; 
2023-10-28 14:43:52.5758|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[@p13='?' (DbType = Int32), @p0='?' (DbType = Single), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AvailableFounds" = @p0, "Created" = @p1, "Email" = @p2, "FirsName" = @p3, "HashedPassword" = @p4, "IsVerified" = @p5, "LastModified" = @p6, "LastName" = @p7, "ProfilePictureUrl" = @p8, "RefreshToken" = @p9, "RefreshTokenExpirationTime" = @p10, "RoleId" = @p11, "Username" = @p12
WHERE "Id" = @p13; 
2023-10-28 14:43:52.5758|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:43:52.5758|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results. 
2023-10-28 14:43:52.5758|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:43:52.5758|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:43:52.5821|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'AppDbContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:43:52.5821|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-28 14:43:52.5821|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2669.2175ms. 
2023-10-28 14:43:52.5821|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:43:52.5821|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:43:52.5821|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:43:52.5821|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:43:52.5821|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:43:52.5821|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:43:52.5821|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-28 14:43:52.5821|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2023-10-28 14:43:52.5961|6|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'text/plain'. 
2023-10-28 14:43:52.5961|5|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Could not find an output formatter based on content negotiation. Accepted types were (text/plain) 
2023-10-28 14:43:52.5961|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2023-10-28 14:43:52.5961|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2023-10-28 14:43:52.5961|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2023-10-28 14:43:52.5961|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'ScriptShoes.Application.Models.User.LoginResponseDto'. 
2023-10-28 14:43:52.6128|11|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|Response is not cacheable because it does not contain the 'public' cache directive. 
2023-10-28 14:43:52.6128|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2023-10-28 14:43:52.6128|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:43:52.6128|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:43:52.6128|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API) in 2721.495ms 
2023-10-28 14:43:52.6128|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.Login (ScriptShoes.API)' 
2023-10-28 14:43:52.6128|27|INFO|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The response could not be cached for this request. 
2023-10-28 14:43:52.6128|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQK" completed keep alive response. 
2023-10-28 14:43:52.6128|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-28 14:43:52.6285|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:43:52.6285|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (2ms). 
2023-10-28 14:43:52.6285|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/api/user/login?email=2kubaa1%40gmail.com&password=Kuba123%21 - - - 200 - application/json;+charset=utf-8 3295.0174ms 
2023-10-28 14:44:19.4628|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQL" accepted. 
2023-10-28 14:44:19.4628|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQL" started. 
2023-10-28 14:44:19.4628|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQM" accepted. 
2023-10-28 14:44:19.4628|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMCQDRUQL" received FIN. 
2023-10-28 14:44:19.4628|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQM" started. 
2023-10-28 14:44:19.4628|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMCQDRUQL" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:44:19.4628|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQL" disconnecting. 
2023-10-28 14:44:19.4628|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQL" stopped. 
2023-10-28 14:44:19.4628|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 
2023-10-28 14:44:19.4628|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:44:19.4628|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:44:19.4628|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' with route pattern 'api/user/sendVerificationEmail' is valid for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:44:19.4628|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:44:19.4628|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-28 14:44:19.5092|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2023-10-28 14:44:19.5092|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2023-10-28 14:44:19.5092|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:44:19.5092|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/sendVerificationEmail has been invoked 
2023-10-28 14:44:19.5092|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-28 14:44:19.5092|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:44:19.5092|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:44:19.5199|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "SendVerificationEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendVerificationEmail() on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-28 14:44:19.5199|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-28 14:44:19.5199|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-28 14:44:19.5199|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-28 14:44:19.5199|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-28 14:44:19.5199|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-28 14:44:19.5199|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:44:19.5199|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:44:19.5199|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:44:19.5199|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:44:19.5199|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:44:19.5199|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:44:19.5199|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) - Validation state: Valid 
2023-10-28 14:44:19.5416|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-28 14:44:19.5416|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .FirstOrDefault(x => x.Id == __id_0)' 
2023-10-28 14:44:19.5416|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AvailableFounds (float) Required, 1], [Property: User.Created (DateTime) Required, 2], [Property: User.Email (string) Required, 3], [Property: User.FirsName (string) Required, 4], [Property: User.HashedPassword (string) Required, 5], [Property: User.IsVerified (bool) Required, 6], [Property: User.LastModified (DateTime) Required, 7], [Property: User.LastName (string) Required, 8], [Property: User.ProfilePictureUrl (string) Required, 9], [Property: User.RefreshToken (string), 10], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 11], [Property: User.RoleId (int) Required FK Index, 12], [Property: User.Username (string) Required, 13] }
            SELECT TOP(1) u.Id, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-28 14:44:19.5416|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:44:19.5416|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-28 14:44:19.5416|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-28 14:44:19.5416|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:44:19.5416|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:44:19.5416|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:44:19.5416|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:19.5416|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:44:19.5488|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:44:19.5488|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:19.5488|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-28 14:44:19.5488|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:19.5488|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:44:19.5488|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<EmailCode>()
    .Any(x => x.UserId == __userId_0)' 
2023-10-28 14:44:19.5488|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM EmailCodes AS e
                WHERE e.UserId == @__userId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-28 14:44:19.5488|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:44:19.5488|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:44:19.5488|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:44:19.5488|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:44:19.5488|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:19.5488|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:44:19.5488|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:44:19.5645|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:19.5645|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results. 
2023-10-28 14:44:19.5645|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:19.5645|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:44:21.1103|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 1589.7743ms. 
2023-10-28 14:44:21.1103|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:44:21.1103|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:44:21.1103|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:44:21.1103|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:44:21.1103|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:44:21.1103|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:44:21.1103|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-28 14:44:21.1122|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204 
2023-10-28 14:44:21.1122|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-28 14:44:21.1122|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:44:21.1122|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:44:21.1122|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) in 1592.2516ms 
2023-10-28 14:44:21.1122|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:44:21.1122|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQM" completed keep alive response. 
2023-10-28 14:44:21.1122|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-28 14:44:21.1122|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:44:21.1122|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:44:21.1122|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 - 204 - - 1646.5732ms 
2023-10-28 14:44:23.8052|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 
2023-10-28 14:44:23.8052|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:44:23.8052|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:44:23.8052|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' with route pattern 'api/user/sendVerificationEmail' is valid for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:44:23.8052|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:44:23.8052|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-28 14:44:23.8052|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2023-10-28 14:44:23.8052|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2023-10-28 14:44:23.8052|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:44:23.8052|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/sendVerificationEmail has been invoked 
2023-10-28 14:44:23.8052|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-28 14:44:23.8052|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:44:23.8052|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:44:23.8052|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "SendVerificationEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendVerificationEmail() on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-28 14:44:23.8052|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-28 14:44:23.8052|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-28 14:44:23.8052|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-28 14:44:23.8052|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-28 14:44:23.8052|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-28 14:44:23.8052|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:44:23.8052|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:44:23.8052|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:44:23.8052|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:44:23.8052|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:44:23.8052|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:44:23.8052|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) - Validation state: Valid 
2023-10-28 14:44:23.8551|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-28 14:44:23.8551|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:44:23.8551|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-28 14:44:23.8551|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-28 14:44:23.8551|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:44:23.8551|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:44:23.8551|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:44:23.8551|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:23.8551|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:44:23.8551|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:44:23.8551|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:23.8551|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-28 14:44:23.8551|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:23.8551|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:44:23.8551|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:44:23.8551|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:44:23.8551|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:44:23.8551|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:44:23.8551|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:23.8551|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:44:23.8551|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:44:23.8551|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:23.8551|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-28 14:44:23.8551|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:44:23.8551|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:44:24.8753|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 1063.2092ms. 
2023-10-28 14:44:24.8753|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:44:24.8753|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:44:24.8753|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:44:24.8753|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:44:24.8753|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:44:24.8753|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:44:24.8753|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-28 14:44:24.8753|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204 
2023-10-28 14:44:24.8753|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-28 14:44:24.8753|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:44:24.8753|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:44:24.8753|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) in 1063.781ms 
2023-10-28 14:44:24.8753|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:44:24.8753|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQM" completed keep alive response. 
2023-10-28 14:44:24.8753|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-28 14:44:24.8753|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:44:24.8753|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:44:24.8753|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 - 204 - - 1070.5107ms 
2023-10-28 14:45:38.1686|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-28 14:45:38.1686|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-28 14:45:38.1743|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQM" disconnecting. 
2023-10-28 14:45:38.1743|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQK" disconnecting. 
2023-10-28 14:45:38.1743|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQM" stopped. 
2023-10-28 14:45:38.1743|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMCQDRUQK" stopped. 
2023-10-28 14:45:38.1743|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMCQDRUQM" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:45:38.1743|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMCQDRUQK" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:45:38.1743|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-28 14:46:52.4772|0|DEBUG|Program|init main 
2023-10-28 14:46:52.6182|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-28 14:46:52.6613|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-28 14:46:52.6804|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-28 14:46:52.6804|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-28 14:46:52.6937|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-28 14:46:52.6937|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-28 14:46:52.7060|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-28 14:46:52.7060|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-28 14:46:52.7060|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-28 14:46:52.7060|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-28 14:46:52.7060|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-28 14:46:52.7060|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-28 14:46:52.7060|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-28 14:46:52.7778|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-28 14:46:52.7778|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-28 14:46:52.7778|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-28 14:46:52.7778|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-28 14:46:52.7778|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-28 14:46:52.7778|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-28 14:46:52.7997|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMFQUM1US" received FIN. 
2023-10-28 14:46:52.7997|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1US" accepted. 
2023-10-28 14:46:52.7997|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1US" started. 
2023-10-28 14:46:52.7997|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMFQUM1US" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:46:52.7997|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1US" disconnecting. 
2023-10-28 14:46:52.8154|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1US" stopped. 
2023-10-28 14:46:52.8783|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UT" accepted. 
2023-10-28 14:46:52.8783|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UT" started. 
2023-10-28 14:46:52.8783|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UU" accepted. 
2023-10-28 14:46:52.8783|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UU" started. 
2023-10-28 14:46:52.9066|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-28 14:46:52.9066|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-28 14:46:52.9066|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:46:52.9306|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-28 14:46:52.9306|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-28 14:46:53.0403|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UT" completed keep alive response. 
2023-10-28 14:46:53.0403|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 136.1989ms 
2023-10-28 14:46:53.1403|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-28 14:46:53.1403|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:46:53.1403|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-28 14:46:53.1403|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-28 14:46:53.2281|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UT" completed keep alive response. 
2023-10-28 14:46:53.2281|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.9484ms 
2023-10-28 14:46:56.3794|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UV" accepted. 
2023-10-28 14:46:56.3794|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UV" started. 
2023-10-28 14:46:56.3794|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1V0" accepted. 
2023-10-28 14:46:56.3794|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1V0" started. 
2023-10-28 14:46:56.3794|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMFQUM1UV" received FIN. 
2023-10-28 14:46:56.3794|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMFQUM1UV" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:46:56.3794|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UV" disconnecting. 
2023-10-28 14:46:56.3794|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 
2023-10-28 14:46:56.3794|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:46:56.3794|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UV" stopped. 
2023-10-28 14:46:56.3794|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:46:56.3794|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' with route pattern 'api/user/sendVerificationEmail' is valid for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:46:56.3794|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:46:56.3794|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-28 14:46:56.3794|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-28 14:46:56.5058|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2023-10-28 14:46:56.5058|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2023-10-28 14:46:56.5058|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:46:56.5058|0|INFO|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|/api/user/sendVerificationEmail has been invoked 
2023-10-28 14:46:56.5204|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-28 14:46:56.5204|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:46:56.5204|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:46:56.5204|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "SendVerificationEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendVerificationEmail() on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-28 14:46:56.5336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-28 14:46:56.5336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-28 14:46:56.5336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-28 14:46:56.5336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-28 14:46:56.5336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-28 14:46:56.5336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:46:56.5336|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:46:56.5336|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:46:56.5336|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:46:56.5336|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:46:56.5336|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:46:56.5336|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) - Validation state: Valid 
2023-10-28 14:46:56.6392|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-28 14:46:57.3500|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-28 14:46:57.4099|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .FirstOrDefault(x => x.Id == __id_0)' 
2023-10-28 14:46:57.5577|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AvailableFounds (float) Required, 1], [Property: User.Created (DateTime) Required, 2], [Property: User.Email (string) Required, 3], [Property: User.FirsName (string) Required, 4], [Property: User.HashedPassword (string) Required, 5], [Property: User.IsVerified (bool) Required, 6], [Property: User.LastModified (DateTime) Required, 7], [Property: User.LastName (string) Required, 8], [Property: User.ProfilePictureUrl (string) Required, 9], [Property: User.RefreshToken (string), 10], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 11], [Property: User.RoleId (int) Required FK Index, 12], [Property: User.Username (string) Required, 13] }
            SELECT TOP(1) u.Id, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-28 14:46:57.5906|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:46:57.5906|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-28 14:46:57.6183|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (23ms). 
2023-10-28 14:46:57.6183|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (31ms). 
2023-10-28 14:46:57.6283|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (39ms). 
2023-10-28 14:46:57.6283|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:46:57.7481|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:46:57.7602|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:46:57.7949|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:46:57.8153|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:46:57.8153|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 22ms reading results. 
2023-10-28 14:46:57.8153|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:46:57.8338|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-28 14:46:57.8338|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<EmailCode>()
    .Any(x => x.UserId == __userId_0)' 
2023-10-28 14:46:57.8338|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM EmailCodes AS e
                WHERE e.UserId == @__userId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-28 14:46:57.8494|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:46:57.8494|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:46:57.8494|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:46:57.8494|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:46:57.8494|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:46:57.8494|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:46:57.8494|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:46:57.8494|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:46:57.8494|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results. 
2023-10-28 14:46:57.8494|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:46:57.8494|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:46:59.1251|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."EmailCode"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:46:59.1629|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'EmailCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:46:59.1629|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-28 14:46:59.1758|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-28 14:46:59.1758|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-28 14:46:59.1758|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-28 14:46:59.1758|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'EmailCode.Created' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-28 14:46:59.1758|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'EmailCode.LastModified' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-28 14:46:59.1758|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-28 14:46:59.2298|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:46:59.2298|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:46:59.2298|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:46:59.2298|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:46:59.2298|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:46:59.2298|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
INSERT INTO "EmailCodes" ("Code", "Created", "Expires", "LastModified", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id"; 
2023-10-28 14:46:59.2437|20102|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (11ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
INSERT INTO "EmailCodes" ("Code", "Created", "Expires", "LastModified", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id"; 
2023-10-28 14:46:59.2437|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:46:59.2437|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:46:59.2578|10000|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ScriptShoes.Persistence.Database.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-10-28 14:46:59.2578|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:46:59.2578|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:46:59.2578|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:46:59.2578|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:46:59.2699|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) in 2732.6692ms 
2023-10-28 14:46:59.2699|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:46:59.2699|0|FATAL|ScriptShoes.API.Middlewares.ErrorHandlingMiddleware|An error occurred while saving the entity changes. See the inner exception for details. 
2023-10-28 14:46:59.2699|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1V0" completed keep alive response. 
2023-10-28 14:46:59.2840|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-28 14:46:59.2840|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:46:59.2840|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-28 14:46:59.2840|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 - 500 - application/json;+charset=utf-8 2909.0229ms 
2023-10-28 14:47:28.3717|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-28 14:47:28.3717|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-28 14:47:28.3788|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UT" disconnecting. 
2023-10-28 14:47:28.3788|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UU" disconnecting. 
2023-10-28 14:47:28.3788|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UU" stopped. 
2023-10-28 14:47:28.3788|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1UT" stopped. 
2023-10-28 14:47:28.3788|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMFQUM1UU" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:47:28.3788|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1V0" disconnecting. 
2023-10-28 14:47:28.3788|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMFQUM1V0" stopped. 
2023-10-28 14:47:28.3788|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMFQUM1UT" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:47:28.3788|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMFQUM1V0" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:47:28.3788|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-28 14:47:33.6900|0|DEBUG|Program|init main 
2023-10-28 14:47:33.8313|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-28 14:47:33.8723|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-28 14:47:33.8787|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-28 14:47:33.8787|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-28 14:47:33.8787|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-28 14:47:33.8787|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-28 14:47:33.8787|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-28 14:47:33.8936|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-28 14:47:33.8936|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-28 14:47:33.8936|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-28 14:47:33.8936|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-28 14:47:33.8936|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-28 14:47:33.8936|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-28 14:47:33.9339|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-28 14:47:33.9339|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-28 14:47:33.9339|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-28 14:47:33.9339|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-28 14:47:33.9339|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-28 14:47:33.9339|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-28 14:47:34.2660|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMG7A4IJO" received FIN. 
2023-10-28 14:47:34.2691|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJO" accepted. 
2023-10-28 14:47:34.2691|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJO" started. 
2023-10-28 14:47:34.2691|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMG7A4IJO" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:47:34.2691|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJO" disconnecting. 
2023-10-28 14:47:34.2691|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJO" stopped. 
2023-10-28 14:47:34.3341|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJP" accepted. 
2023-10-28 14:47:34.3341|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJP" started. 
2023-10-28 14:47:34.3341|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJQ" accepted. 
2023-10-28 14:47:34.3341|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJQ" started. 
2023-10-28 14:47:34.3603|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-28 14:47:34.3615|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-28 14:47:34.3615|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:47:34.3820|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-28 14:47:34.3820|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-28 14:47:34.4749|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJP" completed keep alive response. 
2023-10-28 14:47:34.4749|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 116.8252ms 
2023-10-28 14:47:34.5683|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-28 14:47:34.5683|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:47:34.5683|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-28 14:47:34.5683|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-28 14:47:34.6476|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJP" completed keep alive response. 
2023-10-28 14:47:34.6476|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 79.5151ms 
2023-10-28 14:47:39.3912|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJR" accepted. 
2023-10-28 14:47:39.3912|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJR" started. 
2023-10-28 14:47:39.3912|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMG7A4IJR" received FIN. 
2023-10-28 14:47:39.3912|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJS" accepted. 
2023-10-28 14:47:39.3912|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJS" started. 
2023-10-28 14:47:39.3912|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMG7A4IJR" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:47:39.3912|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJR" disconnecting. 
2023-10-28 14:47:39.3912|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJR" stopped. 
2023-10-28 14:47:39.3912|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 
2023-10-28 14:47:39.3912|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:47:39.3953|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:47:39.3953|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' with route pattern 'api/user/sendVerificationEmail' is valid for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:47:39.3953|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:47:39.3953|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-28 14:47:39.3953|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-28 14:47:39.5137|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2023-10-28 14:47:39.5137|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2023-10-28 14:47:39.5181|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:47:39.5181|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-28 14:47:39.5181|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:47:39.5181|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:47:39.5181|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "SendVerificationEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendVerificationEmail() on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-28 14:47:39.5181|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-28 14:47:39.5181|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-28 14:47:39.5330|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-28 14:47:39.5330|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-28 14:47:39.5330|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-28 14:47:39.5330|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:47:39.5330|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:47:39.5330|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:47:39.5330|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:47:39.5330|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:47:39.5330|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:47:39.5330|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) - Validation state: Valid 
2023-10-28 14:47:39.6320|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-28 14:47:40.2728|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-28 14:47:40.3207|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .FirstOrDefault(x => x.Id == __id_0)' 
2023-10-28 14:47:40.4558|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AvailableFounds (float) Required, 1], [Property: User.Created (DateTime) Required, 2], [Property: User.Email (string) Required, 3], [Property: User.FirsName (string) Required, 4], [Property: User.HashedPassword (string) Required, 5], [Property: User.IsVerified (bool) Required, 6], [Property: User.LastModified (DateTime) Required, 7], [Property: User.LastName (string) Required, 8], [Property: User.ProfilePictureUrl (string) Required, 9], [Property: User.RefreshToken (string), 10], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 11], [Property: User.RoleId (int) Required FK Index, 12], [Property: User.Username (string) Required, 13] }
            SELECT TOP(1) u.Id, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-28 14:47:40.4890|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:47:40.4890|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-28 14:47:40.5170|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (24ms). 
2023-10-28 14:47:40.5232|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (31ms). 
2023-10-28 14:47:40.5232|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (39ms). 
2023-10-28 14:47:40.5232|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:47:40.6478|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:47:40.6606|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:47:40.6959|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:47:40.7163|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:47:40.7246|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 22ms reading results. 
2023-10-28 14:47:40.7246|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:47:40.7246|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (4ms). 
2023-10-28 14:47:40.7383|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<EmailCode>()
    .Any(x => x.UserId == __userId_0)' 
2023-10-28 14:47:40.7383|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM EmailCodes AS e
                WHERE e.UserId == @__userId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-28 14:47:40.7383|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:47:40.7383|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:47:40.7383|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:47:40.7383|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:47:40.7383|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:47:40.7383|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:47:40.7575|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:47:40.7575|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:47:40.7575|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results. 
2023-10-28 14:47:40.7575|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:47:40.7575|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:47:42.0367|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."EmailCode"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:47:42.0733|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'EmailCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:47:42.0733|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-28 14:47:42.0852|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-28 14:47:42.0852|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-28 14:47:42.0852|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-28 14:47:42.0852|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'EmailCode.Created' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-28 14:47:42.0852|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'EmailCode.LastModified' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-28 14:47:42.0852|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-28 14:47:42.1406|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:47:42.1406|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:47:42.1423|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:47:42.1423|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:47:42.1423|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:47:42.1423|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
INSERT INTO "EmailCodes" ("Code", "Created", "Expires", "LastModified", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id"; 
2023-10-28 14:47:42.1423|20102|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
INSERT INTO "EmailCodes" ("Code", "Created", "Expires", "LastModified", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id"; 
2023-10-28 14:47:42.1423|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:47:42.1423|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:47:42.1582|10000|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'ScriptShoes.Persistence.Database.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-10-28 14:47:42.1582|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:47:42.1582|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:47:42.1582|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:47:42.1582|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:47:42.1780|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) in 2641.7139ms 
2023-10-28 14:47:42.1780|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:47:42.1780|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ScriptShoes.Persistence.Repositories.GenericRepository`1.CreateAsync(T entity) in D:\rider-projects\ScriptShoes\ScriptShoes.Persistence\Repositories\GenericRepository.cs:line 30
   at ScriptShoes.Application.Features.User.Commands.SendVerificationEmail.SendVerificationEmailCommandHandler.Handle(SendVerificationEmailCommand request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Commands\SendVerificationEmail\SendVerificationEmailCommandHandler.cs:line 49
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.SendVerificationEmail() in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 68
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-28 14:47:42.2052|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJS" completed keep alive response. 
2023-10-28 14:47:42.2052|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-28 14:47:42.2052|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:47:42.2052|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-28 14:47:42.2052|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 - 500 - text/plain;+charset=utf-8 2821.5895ms 
2023-10-28 14:48:05.6388|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-28 14:48:05.6388|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-28 14:48:05.6453|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJS" disconnecting. 
2023-10-28 14:48:05.6453|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJQ" disconnecting. 
2023-10-28 14:48:05.6453|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJP" disconnecting. 
2023-10-28 14:48:05.6453|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJS" stopped. 
2023-10-28 14:48:05.6453|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJQ" stopped. 
2023-10-28 14:48:05.6453|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMG7A4IJP" stopped. 
2023-10-28 14:48:05.6453|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMG7A4IJS" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:48:05.6453|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMG7A4IJQ" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:48:05.6453|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMG7A4IJP" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:48:05.6453|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
2023-10-28 14:48:10.5713|0|DEBUG|Program|init main 
2023-10-28 14:48:10.7107|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-10-28 14:48:10.7507|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2023-10-28 14:48:10.7578|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2023-10-28 14:48:10.7578|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys\key-fa06f452-293b-47bb-911f-d5ac0d2ec068.xml'. 
2023-10-28 14:48:10.7578|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {fa06f452-293b-47bb-911f-d5ac0d2ec068}. 
2023-10-28 14:48:10.7717|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {fa06f452-293b-47bb-911f-d5ac0d2ec068} with expiration date 2023-12-25 14:50:04Z as default key. 
2023-10-28 14:48:10.7717|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-28 14:48:10.7717|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2023-10-28 14:48:10.7717|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2023-10-28 14:48:10.7717|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2023-10-28 14:48:10.7717|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2023-10-28 14:48:10.7717|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {fa06f452-293b-47bb-911f-d5ac0d2ec068} as the default key. 
2023-10-28 14:48:10.7717|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {fa06f452-293b-47bb-911f-d5ac0d2ec068} was loaded during application startup. 
2023-10-28 14:48:10.8178|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5013 
2023-10-28 14:48:10.8178|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly ScriptShoes.API 
2023-10-28 14:48:10.8178|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2023-10-28 14:48:10.8178|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2023-10-28 14:48:10.8178|0|INFO|Microsoft.Hosting.Lifetime|Content root path: D:\rider-projects\ScriptShoes\ScriptShoes.API 
2023-10-28 14:48:10.8178|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2023-10-28 14:48:10.9962|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMGI8DNFJ" received FIN. 
2023-10-28 14:48:10.9962|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFJ" accepted. 
2023-10-28 14:48:10.9962|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFJ" started. 
2023-10-28 14:48:11.0064|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMGI8DNFJ" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:48:11.0064|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFJ" disconnecting. 
2023-10-28 14:48:11.0064|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFJ" stopped. 
2023-10-28 14:48:11.0531|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFK" accepted. 
2023-10-28 14:48:11.0531|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFK" started. 
2023-10-28 14:48:11.0531|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFL" accepted. 
2023-10-28 14:48:11.0531|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFL" started. 
2023-10-28 14:48:11.0770|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/index.html - - 
2023-10-28 14:48:11.0770|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2023-10-28 14:48:11.0770|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:48:11.0966|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2023-10-28 14:48:11.0966|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-28 14:48:11.1854|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFK" completed keep alive response. 
2023-10-28 14:48:11.1854|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/index.html - - - 200 - text/html;charset=utf-8 110.7087ms 
2023-10-28 14:48:11.2821|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - 
2023-10-28 14:48:11.2821|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:48:11.2821|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2023-10-28 14:48:11.2821|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2023-10-28 14:48:11.3616|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFK" completed keep alive response. 
2023-10-28 14:48:11.3616|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5013/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 79.5859ms 
2023-10-28 14:48:13.2570|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFM" accepted. 
2023-10-28 14:48:13.2570|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFM" started. 
2023-10-28 14:48:13.2570|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFN" accepted. 
2023-10-28 14:48:13.2570|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMGI8DNFM" received FIN. 
2023-10-28 14:48:13.2570|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFN" started. 
2023-10-28 14:48:13.2570|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMGI8DNFM" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:48:13.2570|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFM" disconnecting. 
2023-10-28 14:48:13.2570|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 
2023-10-28 14:48:13.2570|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:48:13.2570|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFM" stopped. 
2023-10-28 14:48:13.2570|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:48:13.2570|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' with route pattern 'api/user/sendVerificationEmail' is valid for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:48:13.2570|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:48:13.2570|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-28 14:48:13.2570|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2023-10-28 14:48:13.3835|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2023-10-28 14:48:13.3835|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2023-10-28 14:48:13.3835|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:48:13.3835|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-28 14:48:13.3835|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:48:13.3929|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:48:13.3929|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "SendVerificationEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendVerificationEmail() on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-28 14:48:13.3929|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-28 14:48:13.3929|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-28 14:48:13.3929|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-28 14:48:13.3929|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-28 14:48:13.3929|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-28 14:48:13.3929|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:48:13.3929|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:48:13.3929|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:48:13.3929|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:48:13.3929|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:48:13.3929|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:48:13.4090|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) - Validation state: Valid 
2023-10-28 14:48:13.5024|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-10-28 14:48:14.1629|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-28 14:48:14.2133|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .FirstOrDefault(x => x.Id == __id_0)' 
2023-10-28 14:48:14.3611|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AvailableFounds (float) Required, 1], [Property: User.Created (DateTime) Required, 2], [Property: User.Email (string) Required, 3], [Property: User.FirsName (string) Required, 4], [Property: User.HashedPassword (string) Required, 5], [Property: User.IsVerified (bool) Required, 6], [Property: User.LastModified (DateTime) Required, 7], [Property: User.LastName (string) Required, 8], [Property: User.ProfilePictureUrl (string) Required, 9], [Property: User.RefreshToken (string), 10], [Property: User.RefreshTokenExpirationTime (DateTime) Required, 11], [Property: User.RoleId (int) Required FK Index, 12], [Property: User.Username (string) Required, 13] }
            SELECT TOP(1) u.Id, u.AvailableFounds, u.Created, u.Email, u.FirsName, u.HashedPassword, u.IsVerified, u.LastModified, u.LastName, u.ProfilePictureUrl, u.RefreshToken, u.RefreshTokenExpirationTime, u.RoleId, u.Username
            FROM Users AS u
            WHERE u.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-28 14:48:14.3923|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:48:14.3939|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-28 14:48:14.4190|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2023-10-28 14:48:14.4246|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (30ms). 
2023-10-28 14:48:14.4246|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (37ms). 
2023-10-28 14:48:14.4246|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:48:14.5477|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:14.5603|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:48:14.5968|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (39ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:48:14.6178|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:14.6178|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 22ms reading results. 
2023-10-28 14:48:14.6316|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:14.6316|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (5ms). 
2023-10-28 14:48:14.6316|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<EmailCode>()
    .Any(x => x.UserId == __userId_0)' 
2023-10-28 14:48:14.6468|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM EmailCodes AS e
                WHERE e.UserId == @__userId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        ScriptShoes.Persistence.Database.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-10-28 14:48:14.6468|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:48:14.6468|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:48:14.6468|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:48:14.6468|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:48:14.6468|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:14.6468|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:48:14.6584|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:48:14.6584|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:14.6584|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results. 
2023-10-28 14:48:14.6584|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:14.6584|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:48:16.2778|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"AppDbContext"' generated a temporary value for the property '"Id"."EmailCode"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:48:16.3152|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'AppDbContext' started tracking 'EmailCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:48:16.3152|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-28 14:48:16.3152|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-28 14:48:16.3312|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'AppDbContext'. 
2023-10-28 14:48:16.3312|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'AppDbContext'. 
2023-10-28 14:48:16.3312|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'EmailCode.Created' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-28 14:48:16.3312|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'EmailCode.LastModified' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-28 14:48:16.3312|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'AppDbContext'. 
2023-10-28 14:48:16.3824|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:48:16.3824|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:16.3824|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:48:16.3824|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:48:16.3824|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:48:16.3824|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
INSERT INTO "EmailCodes" ("Code", "Created", "Expires", "LastModified", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id"; 
2023-10-28 14:48:16.4066|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
INSERT INTO "EmailCodes" ("Code", "Created", "Expires", "LastModified", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id"; 
2023-10-28 14:48:16.4135|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'EmailCode.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-10-28 14:48:16.4135|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:16.4135|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results. 
2023-10-28 14:48:16.4135|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:16.4135|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:48:16.4258|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'EmailCode' tracked by 'AppDbContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-10-28 14:48:16.4258|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'AppDbContext' with 1 entities written to the database. 
2023-10-28 14:48:16.4258|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 3021.0072ms. 
2023-10-28 14:48:16.4258|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:48:16.4258|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:48:16.4258|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:48:16.4258|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:48:16.4258|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:48:16.4258|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:48:16.4258|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-28 14:48:16.4258|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204 
2023-10-28 14:48:16.4258|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NoContentResult. 
2023-10-28 14:48:16.4258|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:48:16.4258|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-10-28 14:48:16.4404|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) in 3032.202ms 
2023-10-28 14:48:16.4404|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:48:16.4404|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFN" completed keep alive response. 
2023-10-28 14:48:16.4404|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-28 14:48:16.4404|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:48:16.4404|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (1ms). 
2023-10-28 14:48:16.4404|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 - 204 - - 3195.2481ms 
2023-10-28 14:48:18.1484|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 
2023-10-28 14:48:18.1484|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2023-10-28 14:48:18.1484|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:48:18.1484|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' with route pattern 'api/user/sendVerificationEmail' is valid for the request path '/api/user/sendVerificationEmail' 
2023-10-28 14:48:18.1484|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:48:18.1484|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2023-10-28 14:48:18.1484|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2023-10-28 14:48:18.1484|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2023-10-28 14:48:18.1484|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:48:18.1484|1|DEBUG|Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware|The request cannot be served from cache because it uses the HTTP method: POST. 
2023-10-28 14:48:18.1484|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2023-10-28 14:48:18.1484|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:48:18.1484|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "SendVerificationEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendVerificationEmail() on controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API). 
2023-10-28 14:48:18.1484|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2023-10-28 14:48:18.1484|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2023-10-28 14:48:18.1484|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-10-28 14:48:18.1484|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2023-10-28 14:48:18.1484|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-10-28 14:48:18.1484|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:48:18.1484|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller ScriptShoes.API.Controllers.UserController (ScriptShoes.API) 
2023-10-28 14:48:18.1484|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:48:18.1484|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:48:18.1484|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:48:18.1484|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:48:18.1484|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) - Validation state: Valid 
2023-10-28 14:48:18.1928|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.11 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None 
2023-10-28 14:48:18.1928|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:48:18.1928|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2023-10-28 14:48:18.1928|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2023-10-28 14:48:18.1928|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:48:18.1928|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:48:18.1928|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:48:18.1928|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:18.1928|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:48:18.1928|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AvailableFounds", u."Created", u."Email", u."FirsName", u."HashedPassword", u."IsVerified", u."LastModified", u."LastName", u."ProfilePictureUrl", u."RefreshToken", u."RefreshTokenExpirationTime", u."RoleId", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1 
2023-10-28 14:48:18.1928|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:18.1928|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-28 14:48:18.1928|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:18.1928|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:48:18.1928|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2023-10-28 14:48:18.1928|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:48:18.1928|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-10-28 14:48:18.1928|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:48:18.1928|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:18.1928|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:48:18.1928|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "EmailCodes" AS e
    WHERE e."UserId" = @__userId_0) 
2023-10-28 14:48:18.1928|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:18.1928|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'ScriptShoesDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results. 
2023-10-28 14:48:18.1928|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'ScriptShoesDb' on server 'tcp://localhost:5432'. 
2023-10-28 14:48:18.1928|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:48:18.1928|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:48:18.1928|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-10-28 14:48:18.1928|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:48:18.1928|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-10-28 14:48:18.1928|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API) in 45.9637ms 
2023-10-28 14:48:18.1928|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'ScriptShoes.API.Controllers.UserController.SendVerificationEmail (ScriptShoes.API)' 
2023-10-28 14:48:18.1928|1|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request. ScriptShoes.Domain.Exceptions.BadRequestException: This user already has an active verification code
   at ScriptShoes.Application.Features.User.Commands.SendVerificationEmail.SendVerificationEmailCommandHandler.Handle(SendVerificationEmailCommand request, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\Features\User\Commands\SendVerificationEmail\SendVerificationEmailCommandHandler.cs:line 34
   at ScriptShoes.Application.PipelineBehaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\rider-projects\ScriptShoes\ScriptShoes.Application\PipelineBehaviors\ValidationBehavior.cs:line 29
   at ScriptShoes.API.Controllers.UserController.SendVerificationEmail() in D:\rider-projects\ScriptShoes\ScriptShoes.API\Controllers\UserController.cs:line 68
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-28 14:48:18.2168|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFN" completed keep alive response. 
2023-10-28 14:48:18.2168|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'AppDbContext' disposed. 
2023-10-28 14:48:18.2168|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'ScriptShoesDb' on server ''. 
2023-10-28 14:48:18.2168|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database 'ScriptShoesDb' on server '' (0ms). 
2023-10-28 14:48:18.2168|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5013/api/user/sendVerificationEmail - 0 - 500 - text/plain;+charset=utf-8 68.8070ms 
2023-10-28 14:49:05.1677|0|INFO|Microsoft.Hosting.Lifetime|Application is shutting down... 
2023-10-28 14:49:05.1677|3|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopping 
2023-10-28 14:49:05.1677|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFK" disconnecting. 
2023-10-28 14:49:05.1677|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFL" disconnecting. 
2023-10-28 14:49:05.1677|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFL" stopped. 
2023-10-28 14:49:05.1677|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFK" stopped. 
2023-10-28 14:49:05.1677|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFN" disconnecting. 
2023-10-28 14:49:05.1677|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMUNMGI8DNFN" stopped. 
2023-10-28 14:49:05.1677|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMGI8DNFL" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:49:05.1677|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMGI8DNFN" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:49:05.1677|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMUNMGI8DNFK" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-10-28 14:49:05.1763|4|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting stopped 
